on skript start:
    set {laststart} to now
    $ thread
    set {ip} to text from url "http://ipinfo.io/ip"
command /info:
    permission: server.info
    trigger:
        set {_free} to (free memory) / 2^20
        set {_max} to (max memory) / 2^20
        set {_total} to (total memory) / 2^20
        
        set {_barlength} to 135
        set {_inusebar} to ({_total} - {_free}) / {_max} * {_barlength}
        set {_totalbar} to {_total} / {_max} * {_barlength}
        #!THANKS bi0qaw for simplifying the memory bar!
        set {_bartext} to ""
        set {_inuse-l} to 0
        set {_total-l} to 0
        set {_max-l} to 0
        loop {_barlength} times:
            if loop-number < {_inusebar}:
                set {_bartext} to "%{_bartext}%&a|"
            else if loop-number < {_totalbar}:
                set {_bartext} to "%{_bartext}%&e|"
            else:
                set {_bartext} to "%{_bartext}%&6|"
        set {_rampercent} to round ( ( ({_total} - {_free}) / ({_max}) )* 100 )
        if {_rampercent} > 90:
            set {_rampercent.text} to "&4%{_rampercent}%"
        else if {_rampercent} > 50:
            set {_rampercent.text} to "&e%{_rampercent}%"
        else if {_rampercent} > 30:
            set {_rampercent.text} to "&6%{_rampercent}%"
        else:
            set {_rampercent.text} to "&a%{_rampercent}%"
        set {_laststartt} to "%difference between {laststart} and now%"
        if "%{_laststartt}%" contains ".":
            set {_laststarttt::*} to {_laststartt} split at "."
            set {_laststartt} to "%{_laststarttt::1}% s"
        replace all " " in {_laststartt} with ""
        replace all "and" in {_laststartt} with ""
        replace all "minutes" in {_laststartt} with "m"
        replace all "minute" in {_laststartt} with "m"
        replace all "seconds" in {_laststartt} with "s"
        replace all "second" in {_laststartt} with "s"
        replace all "hour" in {_laststartt} with "h"
        replace all "hours" in {_laststartt} with "h"
        replace all "day" in {_laststartt} with "d"
        replace all "days" in {_laststartt} with "d"
        replace all "m0s" in {_laststartt} with ""
        loop loaded chunks of "world":
            add 1 to {_loadedc}
        set {_playerlist::*} to "&8Players:"
        loop all players:
            if loop-player is op:
                add "&4%loop-player%" to {_playerlist::*}
            else:
                add "&e%loop-player%" to {_playerlist::*}
        set {_playerlisttext} to "%{_playerlist::*}%"
        replace all "," in {_playerlisttext} with "%nl%"
        replace all " and" in {_playerlisttext} with " %nl%"
        set {_tps} to tps
        if {_tps} > 19:
            set {_tps.t} to "&a%{_tps}%"
        else if {_tps} > 15:
            set {_tps.t} to "&e%{_tps}%"
        else if {_tps} > 10:
            set {_tps.t} to "&c%{_tps}%"
        else:
            set {_tps.t} to "&4%{_tps}%"
        if {tps.average} is not set:
            set {tps.average.text} to "&aNot calculated yet"
        else:
            set {tps.average.text} to "&a%{tps.average}%"
        set {_filler} to ""
        set {_lrl} to length of "%{_laststartt}%"
        loop   ({_lrl} * 2   + 12 ) times:
            set {_filler} to "%{_filler}% "
        set {_filler2} to ""
        set {_lf2} to length of "%{_rampercent}%%%"
        loop 32 - {_lf2} times:
            set {_filler2} to "%{_filler2}% "
        set {_filler3} to ""
        set {_lf3} to length of "%{_loadedc}%"
        loop {_lf3} + 7 times:
            set {_filler3} to "%{_filler3}% "
        set {_now::*} to split "%now%" at ":"
        set {_now::1} to the 1 last characters of "%{_now::1}%" 
        set {_now.text} to "%{_now::1}%:%{_now::2}%" 
        loop 10 times:
            message ""
        message "                             &7&lServer Info"
        json("%player%", "       &8Last Restart:&a %{_laststartt}% ago  ||ttp:&a%difference between {laststart} and now% ||  &8Players:&a %amount of all players% ||ttp:%{_playerlisttext}%")
                
        message "       &8TPS: %{_tps.t}%&8   %{_filler}%Server IP: &a%{ip}%"
        message "       &8Loaded Chunks:&a %{_loadedc}%%{_filler3}%&8System Time:&a %{_now.text}%"
        message ""
        message "&8%{_filler2}%&8&lMemory (MB) &a%{_rampercent}%%%&8:&r"
        json("%player%", "       %{_bartext}% ||ttp:&aIn Use: %round({_total} - {_free})%&e Total: %round({_total})%&6 Maximum/Allocated: %round({_max})%")
        json("%player%", "       &7[Stop Server] ||ttp:&aClick to stop the server!||cmd:/stop ||&7                                      [Plugins]||ttp:&aClick to list plugins!||cmd:/pl")
        message ""
on place of ender stone:
    set {_l} to location of event-block
    loop all blocks in radius 1 of {_l}:
        if loop-block is iron door block:
            set {_iron} to true
            broadcast "Y"
every 60 seconds:
	loop all players:
		add .1 to {playtime::minutes::%loop-player%}
command /playtime [<player>]:
    trigger:
        if arg-1 is not set:
            set {_t} to "%{playtime::minutes::%player%}% minutes" parsed as timespan
            message "&bYour playtime is %{_t}%"
        else:
            set {_t} to "%{playtime::minutes::%arg-1%}% minutes" parsed as timespan
            message "&b%arg-1%'s playtime is %{_t}%"
command /playtimetop:
    trigger:
        set {_leaderboard::*} to {playtime::minutes::*} sorted from highest to lowest with output "@index;@value"
        message "&bTop 10 Playtimes:"
        loop 10 times:
            set {_s} to "%{_leaderboard::%loop-number%}%"
            set {_s2::*} to split "%{_s}%" at ";"
            set {_minutes} to {_s2::2} parsed as number
            if {_minutes} is set:
                set {_minutes} to {_minutes} * 10
            set {_player} to "%{_s2::1}%" parsed as offline player
            set {_t} to "%{_minutes}% minutes" parsed as timespan
            set {_t2} to "%{_t}%"
            replace all " " in {_t2} with ""
            replace all "and" in {_t2} with ""
            replace all "minutes" in {_t2} with "m"
            replace all "minute" in {_t2} with "m"
            replace all "hours" in {_t2} with "h"
            replace all "hour" in {_t2} with "h"
            replace all "days" in {_t2} with "d"
            replace all "day" in {_t2} with "d"
            if {_t2} is not "<none>":
                broadcast "%loop-number%. %{_player}%: %{_t2}%"
            delete {_s}
            delete {_s2::*}
            delete {_minutes}
            delete {_player}
            delete {_t}
            delete {_t2}
#DEBUG
command /playtimeset <text> <integer>:
    trigger:
        set {playtime::minutes::%arg-1%} to arg-2 / 10
        message "&b%arg-1%'s playtime has been set to %arg-2%"
on break:
    player is sneaking
    player's tool is an axe
    player has permission "lumber.use"
    id of event-block is 17 or 162
    id of block above event-block is 17 or 162
    set {_int} to 0
    set {_l} to location of the event-block
    set {_x} to (x-coordinate of {_l}) - 1
    set {_y} to (y-coordinate of {_l}) - 1
    set {_z} to (z-coordinate of {_l}) + 1
    set {_l1} to location at x = {_x}, y = {_y}, z = {_z} of the world "world"
    set {_x} to (x-coordinate of {_l}) + 1
    set {_y} to (y-coordinate of {_l}) + 1
    set {_z} to (z-coordinate of {_l}) - 1
    set {_l2} to location at x = {_x}, y = {_y}, z = {_z} of the world "world"
    loop blocks within {_l1} to {_l2}:
        set {_i} to id of loop-block
        if {_i} is 17 or 162:
            drop loop-block
            set loop-block to air
            add location of loop-block to {_tree::*}
            add 1 to {_int}
    set {_cont} to true
    set {_le} to 0
    if id of event-block is 17:
        if data value of event-block is 0 or 1:
            set {_m} to 90
        else if data value of event-block is 2:
            set {_m} to 70
        else if data value of event-block is 3:
            set {_m} to 420
    else:
        if data value of event-block is 0:
            set {_m} to 90
        else:
            set {_m} to 120
    set {_time} to now
    while {_cont} is true:
        if difference between {_time} and now is more than 30 seconds:
            set {_cont} to false
        if size of {_tree::*} is 0:
            set {_cont} to false
        if {_int} > {_m}:
            set {_cont} to false
        if player's tool is not an axe:
            set {_cont} to false
        loop {_tree::*}:
            set {_e} to "%enchants of player's tool%"
            if "%{_e}%" contains "Unbreaking" or "Unbreaking,":
                if player's tool is a diamond axe or iron axe:
                    damage player's tool by 2
                else if player's tool is a stone or wooden axe:
                    damage player's tool by 3
                else if player's tool is a gold axe:
                    damage player's tool by 4
            else:
                if player's tool is a diamond axe or iron axe:
                    damage player's tool by 3
                else if player's tool is a stone or wooden axe:
                    damage player's tool by 4
                else if player's tool is a gold axe:
                    damage player's tool by 5
            if id of block at loop-value is 18 or 161:
                wait 2 tick
            else:
                wait 1 tick
            set {_l} to loop-value
            set {_x} to (x-coordinate of {_l}) - 1
            set {_y} to (y-coordinate of {_l}) - 1
            set {_z} to (z-coordinate of {_l}) + 1
            set {_l1} to location at x = {_x}, y = {_y}, z = {_z} of the world "world"
            set {_x} to (x-coordinate of {_l}) + 1
            set {_y} to (y-coordinate of {_l}) + 2
            set {_z} to (z-coordinate of {_l}) - 1
            set {_l2} to location at x = {_x}, y = {_y}, z = {_z} of the world "world"
            loop blocks within {_l1} to {_l2}:
                set {_i} to id of loop-block
                if {_i} is 17 or 162:
                    drop loop-block
                    set loop-block to air
                    add location of loop-block to {_tree::*}
                    add 1 to {_int}
                    play raw sound "dig.wood" at loop-block with pitch 1 volume 1
                else if {_i} is 18 or 161:
                    if id of event-block is 17:
                        data value of event-block is 0
                        chance of 25%:
                            drop apple at loop-block
                    chance of 50%:
                        drop sapling at loop-block
                    set loop-block to air
                    add location of loop-block to {_tree::*}
                    add 1 to {_int}
                    add 1 to {_le}
                    play raw sound "dig.wood" at loop-block with pitch 1 volume 1 
            delete {_tree::%loop-index%}
#command /sand2set:
    #trigger:
        #set {_l1} to we pos 1 of player
        #set {_l2} to we pos 2 of player
        #loop blocks within {_l1} to {_l2}:
            #if loop-block is not air:
                #add location of loop-block to {sandlocs.locations::*}
                #add type of loop-block to {sandlocs.types::*}
                #message "Added!"
                #message "%size of {sandlocs.locations::*}%"
#command /sand2del:
    #trigger:
        #delete {sandlocs.locations::*}
        #delete {sandlocs.types::*}
        #message "del"
command /sand2:
    trigger:
        apply night vision of tier 10 to player for 10 minutes
        message "&eWelcome to the &4KILL&6 ZONE&a EXPERIMENT"
        message "Thank you for joining us today, look through the conveniently placed looking glass ahead!" to "xXAndrew28Xx" parsed as player
        loop {sandlocs.locations::*}:
            set {_l1} to location at -244, 84, -808 of the world "world"
            set {_l2} to loop-value
            spawn undroppable falling block of {sandlocs.types::%loop-index%} at {_l1}
            set {cancelLandEvent::%spawned falling block%} to true
            push spawned falling block (direction from {_l1} to {_l2}) with speed 5
            push spawned falling block upward with speed 2
            set {_w} to distance between {_l1} and {_l2} / 10
            wait "%{_w}% ticks" parsed as timespan
            kill spawned falling block
            set block at {_l2} to {sandlocs.types::%loop-index%}
        message "Animation done, now break glass" to "xXAndrew28Xx" parsed as player
        message "You will be trained and tested before the trials in the scorching heats." to "xXAndrew28Xx" parsed as player
command /sand3set:
    trigger:
        set {_l1} to we pos 1 of player
        set {_l2} to we pos 2 of player
        loop blocks within {_l1} to {_l2}:
            if loop-block is not air:
                add location of loop-block to {sandlocs2.locations::*}
                add type of loop-block to {sandlocs2.types::*}
                message "Added!"
                broadcast "%size of {sandlocs2.locations::*}%"
command /sand3del:
    trigger:
        delete {sandlocs2.locations::*}
        delete {sandlocs2.types::*}
        message "del"
command /sand3:
    trigger:
        delete {players::*}
        loop {sandlocs2.locations::*}:
            set {_l1} to location at "xXandrew28Xx" parsed as player
            set {_l2} to loop-value
            spawn undroppable falling block of {sandlocs2.types::%loop-index%} at {_l1}
            set {cancelLandEvent::%spawned falling block%} to true
            push spawned falling block (direction from {_l1} to {_l2}) with speed 20
            wait 1 tick
            kill spawned falling block
            set block at {_l2} to {sandlocs2.types::%loop-index%}
on block land:
    {cancelLandEvent::%event-entity%} is true
    cancel event
command /phead [<text>]:
    trigger:
        if arg-1 is set:
            give skull of "%arg-1%" parsed as offline player to player
        else:
            message "&aMissing player argument"
on spawn:
    if spawn reason of entity is "natural":
        cancel the event
command /name <text>:
    trigger:
        set name of player's target entity to colored "%arg-1%"
command /maptp [<text>]:
    trigger:
        if arg-1 is "swords":
            teleport player to location at -266, 75, -780 of the world "world"
command /map <text>:
    trigger:
        set {_mapid} to data value of player's tool
        manage map id {_mapid}
        override map id {_mapid}
        set {_image} to image from url "%arg-1%"
        draw {_image} on map {_mapid} starting from 16, 16
command /mapnbt:
    trigger:
        set {_nbt} to nbt of player's tool
        message "%{_nbt}%"
command /getchest:
    trigger:
        give player a glowing chest named "&aChestPlus"
on place:
    if player's tool is a glowing chest named "&aChestPlus":
        set {chestplus.main::%block%} to location of event-block
        set {chestplus.type::%block%} to "main"
on break:
    if {chestplus.type::%block%} is "main":
        cancel the event
        set event-block to air
        delete {chestplus.main::%block%}
        delete {chestplus.type::%block%}
        give player a glowing chest named "&aChestPlus"
command /getinspect:
    trigger:
        give player a stick named "Inspect"
on right click:
    if name of player's tool is "Inspect":
        message "%{chestplus.type::%block%}%"
on quit:
    set freeze state of player to false
on inventory open:
    wait 1 tick
    if {chestplus.type::%player's target block%} is "main":
        if inventory name of player's current inventory is "&aChestPlus":
            set freeze state of player to true
            set {chestplus.page::%player%} to 1
            open chest with 7 rows to player
            wait 3 tick
            broadcast "{chestplus.contents::%player's target block%::%{chestplus.page::%player%}%}"
            set serialized contents of player's current inventory to {chest}
            wait 1 tick
            set slot 54 of player's current inventory to a crafting table named "Crafting Bench" with lore "&aDouble click anywhere to get back"
on inventory close:
    if {chestplus.type::%player's target block%} is "main":
        set {chest} to serialized contents of player's current inventory
        set freeze state of player to false
command /flush:
    trigger:
        message "Flushing {chestplus.main::*} || %size of {chestplus.main::*}%"
        delete {chestplus.main::*}
        message "Flushing {chestplus.type::*} || %size of {chestplus.type::*}%"
        delete {chestplus.type::*}
on inventory click:
    if {chestplus.type::%player's target block%} is "main":
        broadcast "%click type%"
        if clicked slot is 54:
            if name of clicked item is "Crafting Bench":
                cancel the event
                open crafting table to player
        if clicked slot is less than 62:
            if clicked slot is more than 54:
                cancel the event
        if "%click type%" is "DOUBLE_CLICK":
            close player's inventory
            open the inventory of player's target block to player
command /nick:
    executable by: players
    trigger:
        open chest with 3 row named "&e&lNickname GUI" to player
        format slot 1 of player with a red wool named "&4DARK RED" to close then run [make player execute "/enick %player% &4%player%"]
        format slot 2 of player with a red wool named "&cDARK RED" to close then run [make player execute "/enick %player% &c%player%"]
        format slot 3 of player with a red wool named "&6DARK RED" to close then run [make player execute "/enick %player% &6%player%"]
        format slot 4 of player with a red wool named "&eDARK RED" to close then run [make player execute "/enick %player% &e%player%"]
        format slot 5 of player with a red wool named "&2DARK RED" to close then run [make player execute "/enick %player% &2%player%"]
        format slot 6 of player with a red wool named "&aDARK RED" to close then run [make player execute "/enick %player% &a%player%"]
        format slot 19 of player with a red wool named "&bDARK RED" to close then run [make player execute "/enick %player% &b%player%"]
        format slot 20 of player with a red wool named "&3DARK RED" to close then run [make player execute "/enick %player% &3%player%"]
        format slot 10 of player with a red wool named "&1DARK RED" to close then run [make player execute "/enick %player% &1%player%"]
        format slot 11 of player with a red wool named "&9DARK RED" to close then run [make player execute "/enick %player% &9%player%"]
        format slot 12 of player with a red wool named "&dDARK RED" to close then run [make player execute "/enick %player% &d%player%"]
        format slot 13 of player with a red wool named "&5DARK RED" to close then run [make player execute "/enick %player% &5%player%"]
        format slot 14 of player with a red wool named "&fDARK RED" to close then run [make player execute "/enick %player% &f%player%"]
        format slot 15 of player with a red wool named "&7DARK RED" to close then run [make player execute "/enick %player% &7%player%"]
command /spawnpet:
    trigger:
        set {_l} to location of player's target block
        make console execute "summon Slime %x-coordinate of {_l}% %y-coordinate of {_l}% %z-coordinate of {_l}% {CustomName:Block,CustomNameVisible:0,Invulnerable:1b,PersistenceRequired:1,RabbitType:0,ActiveEffects:[{Id:14,Amplifier:1,Duration:999999}]}"
command /spawnarmor:
    trigger:
        set {_l} to location of player's target block
        make console execute "/summon ArmorStand %x-coordinate of {_l}% %y-coordinate of {_l}% %z-coordinate of {_l}% {CustomName:Bottom,CustomNameVisible:0,Invisible:1b,Invulnerable:1b,PersistenceRequired:1b,Small:1b,Equipment:[{},{},{},{},{id:""minecraft:diamond_block"",Count:1b}],DisabledSlots:16}"
command /spawnarmor2:
    trigger:
        set {_l} to location of player's target block
        make console execute "/summon ArmorStand %x-coordinate of {_l}% %y-coordinate of {_l}% %z-coordinate of {_l}% {CustomName:Bottom2,CustomNameVisible:0,Invisible:1b,Invulnerable:1b,PersistenceRequired:1b,Small:1b,Equipment:[{},{},{},{},{id:""minecraft:diamond_block"",Count:1b}],DisabledSlots:16}"
command /spawnarmor3:
    trigger:
        set {_l} to location of player's target block
        make console execute "/summon ArmorStand %x-coordinate of {_l}% %y-coordinate of {_l}% %z-coordinate of {_l}% {CustomName:Bottom3,CustomNameVisible:0,Invisible:1b,Invulnerable:1b,PersistenceRequired:1b,Small:1b,Equipment:[{},{},{},{},{id:""minecraft:diamond_block"",Count:1b}],DisabledSlots:16}"
command /nbt [<text>]:
    trigger:
        loop 10 times:
            message ""
        if arg-1 is set:
            if arg-1 is "entity":
                message "%nbt of player's target entity%"
            else if arg-1 is "item":
                message "%nbt of player's tool%"
            else if arg-1 is "block":
                message "%nbt of player's target block%"
        else:
            message "%nbt of player's target entity%"
every tick:
    loop all entities:
        if nbt tag "CustomName" of nbt of loop-entity is "Block":
            if the passenger of loop-entity is not set:
                make loop-entity pathfind to {p} with speed 3
            else:
                make loop-entity pathfind to {p}'s target block with speed 10
                #broadcast "%{p}'s target block%"
            if distance between loop-entity and {p} is more than 20:
                teleport loop-entity to {p}
            loop all entities:
                if nbt tag "CustomName" of nbt of loop-entity-2 is "Bottom":
                    teleport loop-entity-2 to loop-entity-1
                if nbt tag "CustomName" of nbt of loop-entity-2 is "Bottom2":
                    teleport loop-entity-2 to loop-entity-1
                if nbt tag "CustomName" of nbt of loop-entity-2 is "Bottom3":
                    teleport loop-entity-2 to loop-entity-1
command /killpet:
    trigger:
        loop all entities:
            if nbt tag "CustomName" of nbt of loop-entity is "Block":
                kill loop-entity
                if distance between loop-entity and {p} is greater than 5:
                    teleport loop-entity behind {p}
on script load:
    set {p} to "xXAndrew28Xx" parsed as player
command /ridepet:
    trigger:
        loop all entities:
            if nbt tag "CustomName" of nbt of loop-entity is "Block":
                make player ride loop-entity
on script load:
    set {mobs::*} to "chicken", "cow", "mooshroom", "pig", "sheep", "squid", "spider", "creeper", "magma_cube", "slime", "horse", "ocelot", and "wolf"

options:
    Prefix : &6[&ePets&6]&r
    
function newPet(p : player, t : string, n : string):
    set {pet::%{_p}%} to {_t}
    set {pet.name::%{_p}%} to {_n}
    if {_t} is "chicken":
        make console execute "/minecraft:summon Chicken %x-coordinate of {_p}% %y-coordinate of {_p}% %z-coordinate of {_p}% {CustomName:%{_p}%'s %{_n}%,CustomNameVisible:1,Invulnerable:1,PersistenceRequired:1}"
    else if {_t} is "cow":
        make console execute "/minecraft:summon Cow %x-coordinate of {_p}% %y-coordinate of {_p}% %z-coordinate of {_p}% {CustomName:%{_p}%'s %{_n}%,CustomNameVisible:1,Invulnerable:1,PersistenceRequired:1}"
    else if {_t} is "mooshroom":
        make console execute "/minecraft:summon MushroomCow %x-coordinate of {_p}% %y-coordinate of {_p}% %z-coordinate of {_p}% {CustomName:%{_p}%'s %{_n}%,CustomNameVisible:1,Invulnerable:1,PersistenceRequired:1}"
    else if {_t} is "pig":
        make console execute "/minecraft:summon Pig %x-coordinate of {_p}% %y-coordinate of {_p}% %z-coordinate of {_p}% {CustomName:%{_p}%'s %{_n}%,CustomNameVisible:1,Invulnerable:1,PersistenceRequired:1}"
    else if {_t} is "sheep":
        make console execute "/minecraft:summon Sheep %x-coordinate of {_p}% %y-coordinate of {_p}% %z-coordinate of {_p}% {CustomName:%{_p}%'s %{_n}%,CustomNameVisible:1,Invulnerable:1,PersistenceRequired:1}"
    else if {_t} is "squid":
        make console execute "/minecraft:summon Squid %x-coordinate of {_p}% %y-coordinate of {_p}% %z-coordinate of {_p}% {CustomName:%{_p}%'s %{_n}%,CustomNameVisible:1,Invulnerable:1,PersistenceRequired:1}"
    else if {_t} is "spider":
        make console execute "/minecraft:summon Spider %x-coordinate of {_p}% %y-coordinate of {_p}% %z-coordinate of {_p}% {CustomName:%{_p}%'s %{_n}%,CustomNameVisible:1,Invulnerable:1,PersistenceRequired:1}"
    else if {_t} is "creeper":
        make console execute "/minecraft:summon Creeper %x-coordinate of {_p}% %y-coordinate of {_p}% %z-coordinate of {_p}% {CustomName:%{_p}%'s %{_n}%,CustomNameVisible:1,Invulnerable:1,PersistenceRequired:1,Fuse:999999}"
    else if {_t} is "magma_cube":
        set {_i} to a random integer between 1 and 4
        make console execute "/minecraft:summon LavaSlime %x-coordinate of {_p}% %y-coordinate of {_p}% %z-coordinate of {_p}% {CustomName:%{_p}%'s %{_n}%,CustomNameVisible:1,Invulnerable:1,PersistenceRequired:1,Size:%{_i}%,ActiveEffects:[{Id:18,Amplifier:255,Duration:999999}]}"
    else if {_t} is "slime":
        set {_i} to a random integer between 1 and 4
        make console execute "/minecraft:summon Slime %x-coordinate of {_p}% %y-coordinate of {_p}% %z-coordinate of {_p}% {CustomName:%{_p}%'s %{_n}%,CustomNameVisible:1,Invulnerable:1,PersistenceRequired:1,Size:%{_i}%,ActiveEffects:[{Id:18,Amplifier:255,Duration:999999}]}"
    else if {_t} is "horse":
        make console execute "/minecraft:summon EntityHorse %x-coordinate of {_p}% %y-coordinate of {_p}% %z-coordinate of {_p}% {Type:0,CustomName:""%{_p}%'s %{_n}%"",CustomNameVisible:1,Invulnerable:1,PersistenceRequired:1,ArmorItem:{id:iron_horse_armor},SaddleItem:{id:saddle},Tame:1}"
    else if {_t} is "ocelot":
        make console execute "/minecraft:summon Ozelot %x-coordinate of {_p}% %y-coordinate of {_p}% %z-coordinate of {_p}% {CatType:1,CustomName:""%{_p}%'s %{_n}%"",CustomNameVisible:1,PersistenceRequired:1b,CanPickUpLoot:0b,Invulnerable:1,Owner:""%{_p}%""}"
    else if {_t} is "wolf":
        set {_i} to a random integer between 1 and 15
        make console execute "/minecraft:summon Wolf %x-coordinate of {_p}% %y-coordinate of {_p}% %z-coordinate of {_p}% {CustomName:""%{_p}%'s %{_n}%"",CustomNameVisible:1,PersistenceRequired:1b,CanPickUpLoot:0b,Invulnerable:1,Owner:""%{_p}%"",CollarColor:%{_i}%}"
function removePet(p : player):
    loop all entities:
        set {_n2} to "%loop-entity%"
        replace all " " in {_n2} with "_"
        if "%{_n2}%" is "%{pet::%{_p}%}%":
            set {_n::*} to split "%name of loop-entity%" at "'s "
            if {pet::%{_n::1}%} is set:
                if {pet.name::%{_n::1}%} is "%{_n::2}%":
                    delete loop-entity
function ridePet(p : player):
    loop all entities:
        set {_n2} to "%loop-entity%"
        replace all " " in {_n2} with "_"
        if "%{_n2}%" is "%{pet::%{_p}%}%":
            set {_n::*} to split "%name of loop-entity%" at "'s "
            if {pet::%{_n::1}%} is set:
                if {pet.name::%{_n::1}%} is "%{_n::2}%":
                    make {_p} ride loop-entity
function leashPet(p : player):
    loop all entities:
        set {_n2} to "%loop-entity%"
        replace all " " in {_n2} with "_"
        if "%{_n2}%" is "%{pet::%{_p}%}%":
            set {_n::*} to split "%name of loop-entity%" at "'s "
            if {pet::%{_n::1}%} is set:
                if {pet.name::%{_n::1}%} is "%{_n::2}%":
                    make {_p} leash loop-entity
function petHat(p : player):
    loop all entities:
        set {_n2} to "%loop-entity%"
        replace all " " in {_n2} with "_"
        if "%{_n2}%" is "%{pet::%{_p}%}%":
            set {_n::*} to split "%name of loop-entity%" at "'s "
            if {pet::%{_n::1}%} is set:
                if {pet.name::%{_n::1}%} is "%{_n::2}%":
                    make loop-entity ride {_p}
function unpetHat(p : player):
    loop all entities:
        set {_n2} to "%loop-entity%"
        replace all " " in {_n2} with "_"
        if "%{_n2}%" is "%{pet::%{_p}%}%":
            set {_n::*} to split "%name of loop-entity%" at "'s "
            if {pet::%{_n::1}%} is set:
                if {pet.name::%{_n::1}%} is "%{_n::2}%":
                    dismount the passenger from {_p}
function petCall(p : player):
    loop all entities:
        set {_n2} to "%loop-entity%"
        replace all " " in {_n2} with "_"
        if "%{_n2}%" is "%{pet::%{_p}%}%":
            set {_n::*} to split "%name of loop-entity%" at "'s "
            if {pet::%{_n::1}%} is set:
                if {pet.name::%{_n::1}%} is "%{_n::2}%":
                    teleport loop-entity to {_p}
on vehicle enter:
    set {_n::*} to split "%name of event-entity%" at "'s "
    if size of {_n::*} is 2:
        if "%{_n::1}%" is not "%passenger of event-entity%":
            message "{@Prefix}&c This is not your mount!"
            cancel the event
on vehicle steer:
    set {_n::*} to split "%name of vehicle of player%" at "'s "
    if {_n::1} is "%player%":
        make vehicle of player pathfind to player with speed 0.3
        if event-button is space:
            if {pet::%player%} is "chicken":
                push vehicle of player upwards at speed 0.4
            else if {pet::%player%} is "cow" or "mooshroom" or "pig":
                if vehicle of player is not on ground:
                    stop
                else:
                    push vehicle of player upwards at speed 0.8
                    push vehicle of player in the direction of player at speed 0.1
            else if {pet::%player%} is "spider" or "creeper":
                if vehicle of player is not on ground:
                    stop
                else:
                    push vehicle of player upwards at speed 0.8
                    push vehicle of player in the direction of player at speed 0.1
            else if {pet::%player%} is "slime" or "magma_cube":
                if vehicle of player is not on ground:
                    stop    
                else:
                    set {_i} to (slime size of vehicle of player) * 0.25
                    push vehicle of player upwards at speed {_i}
            else if {pet::%player%} is "ocelot" or "wolf":
                if vehicle of player is not on ground:
                    stop   
                else:
                    push vehicle of player upwards at speed 0.6
        if event-button is w:
            if {pet::%player%} is "chicken":
                set yaw of vehicle of player to yaw of player
                loop 2 times:
                    if vehicle of player is not on ground:
                        push vehicle of player upwards at speed 0.1
                        wait 10 tick
                        push vehicle of player in the direction of player at speed 0.3
                    else:
                        push vehicle of player in the direction of player at speed 0.3
            else if {pet::%player%} is "cow" or "mooshroom" or "pig":
                if vehicle of player is not on ground:
                    loop 2 times:
                        push vehicle of player in the direction of player at speed 0.1
                        wait 1 tick
            else if {pet::%player%} is "spider" or "creeper":
                if vehicle of player is not on ground:
                    stop
                else:
                    push vehicle of player in the direction of player at speed 2.5
            else if {pet::%player%} is "slime" or "magma_cube":
                if vehicle of player is not on ground:
                    stop    
                else:
                    set {_i} to (slime size of vehicle of player) * 0.3
                    push vehicle of player in the direction of player at speed {_i}
            else if {pet::%player%} is "ocelot" or "wolf":
                if vehicle of player is not on ground:
                    push vehicle of player in the direction of player at speed 0.2
                else:
                    loop 2 times:
                        push vehicle of player in the direction of player at speed 1.1
                        wait 2 tick
        if event-button is a:
            if {pet::%player%} is "chicken":
                if vehicle of player is not on ground:
                    push vehicle of player to the left at speed 0.1
                else:
                    push vehicle of player to the left at speed 0.3
            else if {pet::%player%} is "cow" or "mooshroom" or "pig":
                if vehicle of player is not on ground:
                    stop
                else:
                    push vehicle of player left at speed 0.5
            else if {pet::%player%} is "spider" or "creeper":
                if vehicle of player is not on ground:
                    stop
                else:
                    push vehicle of player left at speed 1
            else if {pet::%player%} is "slime" or "magma_cube":
                if vehicle of player is not on ground:
                    stop    
                else:
                    push vehicle of player left at speed 2
            else if {pet::%player%} is "ocelot" or "wolf":
                if vehicle of player is not on ground:
                    push vehicle of player left at speed 0.2
                else:
                    loop 2 times:
                        push vehicle of player left at speed 0.2
                        wait 2 tick
        if event-button is d:
            if {pet::%player%} is "chicken":
                if vehicle of player is not on ground:
                    push vehicle of player to the right at speed 0.1
                else:
                    push vehicle of player to the right at speed 0.3
            else if {pet::%player%} is "cow" or "mooshroom" or "pig":
                if vehicle of player is not on ground:
                    stop
                else:
                    push vehicle of player right at speed 0.5
            else if {pet::%player%} is "spider" or "creeper":
                if vehicle of player is not on ground:
                    stop
                else:
                    push vehicle of player right at speed 1
            else if {pet::%player%} is "slime" or "magma_cube":
                if vehicle of player is not on ground:
                    stop    
                else:
                    push vehicle of player left at speed 3
            else if {pet::%player%} is "ocelot" or "wolf":
                if vehicle of player is not on ground:
                    push vehicle of player right at speed 0.2
                else:
                    loop 2 times:
                        push vehicle of player right at speed 0.2
                        wait 2 tick
        if event-button is s:
            if {pet::%player%} is "chicken":
                if vehicle of player is not on ground:
                    push vehicle of player down at speed 0.2
                else:
                    push vehicle of player backwards at speed 0.2
            else if {pet::%player%} is "cow" or "mooshroom" or "pig":
                if vehicle of player is not on ground:
                    stop
                else:
                    push vehicle of player backwards at speed 1
            else if {pet::%player%} is "spider" or "creeper":
                if vehicle of player is not on ground:
                    stop
                else:
                    push vehicle of player backwards at speed 1
            else if {pet::%player%} is "slime" or "magma_cube":
                if vehicle of player is not on ground:
                    stop    
                else:
                    set {_i} to (slime size of vehicle of player) * 0.2
                    push vehicle of player backwards at speed {_i}
            else if {pet::%player%} is "ocelot" or "wolf":
                if vehicle of player is not on ground:
                    push vehicle of player backwards at speed 0.2
                else:
                    loop 2 times:
                        push vehicle of player backwards at speed 0.2
                        wait 2 tick
every 5 second in world "world":
    #Make pet follow player
    loop all players:
        if {pet::%loop-player%} is set:
            set {_p} to loop-player
            loop all entities:
                set {_n2} to "%loop-entity-2%"
                replace all " " in {_n2} with "_"
                if "%{_n2}%" is "%{pet::%{_p}%}%":
                    set {_n::*} to split "%name of loop-entity-2%" at "'s "
                    if {pet::%{_n::1}%} is set:
                        if {pet.name::%{_n::1}%} is "%{_n::2}%":
                            if vehicle of {_p} is not set:
                                if distance between loop-entity-2 and loop-entity-1 is less than 5:
                                    make loop-entity-2 pathfind to loop-entity-1 with speed 1
                                else if distance between loop-entity-2 and loop-entity-1 is more than 15:
                                    teleport loop-entity-2 to loop-entity-1
                                else:
                                    make loop-entity-2 pathfind to loop-entity-1 with speed 2
command /pet [<text>] [<text>] [<text>]:
    executable by: players
    trigger:
        if arg-1 is not set:
            message ""
            message "                           {@Prefix} &6&l| &6[&eCommands&6]&r"
            message ""
            message "&a/pet new <type> <name>&e Make a new pet"
            message "&a/pet types&e List all pets that can be made!"
            message "&a/pet <show/hide>&e Change the visibility of your pet!"
            message "&a/pet ride&e Ride your pet!"
            message "&a/pet leash&e Leash your pet to you!"
            message "&a/pet hat&e Toggle if your pet is on your head!"
            message "&a/pet call&e Teleport your pet to you!"
            message "&a/pet remove&e Remove your pet!"
        else if arg-1 is "new":
            if player has permission "petsk.new":
                if arg-2 is set:
                    if arg-3 is set:
                        if {pet::%player%} exists:
                            message "{@Prefix}&c You already have a pet! Delete it using /pet remove"
                        else:
                            set {_type} to arg-2
                            set {_name} to arg-3
                            loop {mobs::*}:
                                loop-value is arg-2
                                set {_mobvalid} to true
                            if {_mobvalid} is true:
                                if length of "%arg-2%" is less than 20:
                                    if "%arg-2%" does not contain " ":
                                        newPet(player, "%{_type}%", "%{_name}%")
                                        set {pethidden::%player%} to false
                                        set {pethat::%player%} to false
                                        message "{@Prefix}&a Made a new %{_type}% pet named %{_name}%"
                                    else:
                                        message "{@Prefix}&c No spaces allowed in name"
                                else:
                                    message "{@Prefix}&c Name too long, max length is 20 characthers"
                            else:
                                message "{@Prefix}&c Mob type unkown&e /pet types"
                    else:
                        message "{@Prefix} &cPlease specify a name!&e /pet new <type> <name>" 
                else:
                    message "{@Prefix} &cPlease specify a type&e /pet new <type> <name>" 
            else:
                message "{@Prefix} &cNo Permission!" 
        else if arg-1 is "types":
            if player has permission "petsk.types":
                message "                               {@Prefix} | Types"
                message "&6Minecraft/Skript mobs:&e %{mobs::*}%"
            else:
                message "{@Prefix} &cNo Permission!"
        else if arg-1 is "hide":
            if player has permission "petsk.hide":
                if {pet::%player%} exists:
                    if {pethidden::%player%} is not set:
                        set {pethidden::%player%} to true
                        removePet(player)
                        message "{@Prefix} &aPet has been hidden!"
                    else if {pethidden::%player%} is false:
                        set {pethidden::%player%} to true
                        removePet(player)
                        message "{@Prefix} &aPet has been hidden!"
                    else:
                        message "{@Prefix}&c Pet is already hidden!"
                else:
                    message "{@Prefix} &cYou don't have a pet!"
            else:
                message "{@Prefix} &cNo Permission!"
        else if arg-1 is "show":
            if player has permission "petsk.show":
                if {pet::%player%} exists:
                    if {pethidden::%player%} is not set:
                        message "{@Prefix}&c You pet is not hidden!"
                    else if {pethidden::%player%} is true:
                        newPet(player, "%{pet::%player%}%", "%{pet.name::%player%}%")
                        message "{@Prefix} &aPet has been reshown"
                        set {pethidden::%player%} to false
                    else:
                        message "{@Prefix}&c Your pet is not hidden!"
                else:
                    message "{@Prefix} &cYou don't have a pet!"
            else:
                message "{@Prefix} &cNo Permission!"
        else if arg-1 is "ride":
            if player has permission "petsk.ride":
                if {pet::%player%} exists:
                    if {pet::%player%} is "squid":
                        message "{@Prefix} &cSquids can not be ridden on!"
                    else:
                        ridePet(player)
                        message "{@Prefix} &aYou are now riding your pet!"
                else:
                    message "{@Prefix} &cYou don't have a pet!"
            else:
                message "{@Prefix} &cNo Permission!"
        else if arg-1 is "leash":
            if player has permission "petsk.lead" or "petsk.leash":
                if {pet::%player%} exists:
                    leashPet(player)
                    message "{@Prefix} &aYou have leashed your pet!"
                else:
                    message "{@Prefix} &cYou don't have a pet!"
            else:
                message "{@Prefix} &cNo Permission!"
        else if arg-1 is "hat":
            if player has permission "petsk.hat":
                if {pet::%player%} exists:
                    if {pethat::%player%} is false:
                        petHat(player)
                        message "{@Prefix} &aYou have made your pet into a hat! Do the command again to take it off!"
                        set {pethat::%player%} to true
                    else if {pethat::%player%} is true:
                        unpetHat(player)
                        message "{@Prefix} &aYou have taken your pet hat off!"
                        set {pethat::%player%} to false
                else:
                    message "{@Prefix} &cYou don't have a pet!"
            else:
                message "{@Prefix} &cNo Permission!"
        else if arg-1 is "call":
            if player has permission "petsk.call":
                if {pet::%player%} exists:
                    petCall(player)
                    message "{@Prefix} &aYour pet has been called by your side!"
                else:
                    message "{@Prefix} &cYou don't have a pet!"
            else:
                message "{@Prefix} &cNo Permission!"
        else if arg-1 is "remove":
            if player has permission "petsk.remove":
                if {pet::%player%} exists:
                    removePet(player)
                    delete {pet::%player%}
                    delete {pet.name::%player%}                
                    delete {pethidden::%player%}
                    delete {pethat::%player%}
                    message "{@Prefix} &6Deleted your pet!"
                else:
                    message "{@Prefix} &cYou don't have a pet!"
            else:
                message "{@Prefix} &cNo Permission!"
on death:
    set {_n::*} to split "%name of victim%" at "-"
    if size of {_n::*} is 2:
        clear drops
on damage of player:
    set {_n2} to "%attacker%"
    replace all " " in {_n2} with "_"
    if "%{_n2}%" is "%{pet::%victim%}%":
        set {_n::*} to split "%name of attacker%" at "'s "
        if {pet::%{_n::1}%} is set:
            if {pet.name::%{_n::1}%} is "%{_n::2}%":
                cancel the event
options:
    PORTALGUN : bow named "&6Orange &7| &bBlue "
aliases:
    black block = 168:1  
    
command /rp:
    trigger:
        make player execute "/skript reload portal"
command /getportalgun [<player>]:
    trigger:
        if arg-1 is not set:
            give player a {@PORTALGUN}
        else:
            give arg-1 a {@PORTALGUN}
command /getpaintingnbt:
    trigger:
        loop all entities in radius 2 of player:
            if "%loop-entity%" is "painting":
                set {_nbt} to nbt of loop-entity
                set {_motive} to nbt tag "Motive" of {_nbt}
                broadcast "%{_motive}%"
command /setpaintingnbt <text>:
    trigger:
        loop all entities in radius 2 of player:
            if "%loop-entity%" is "painting":
                add "{Motive:%arg-1%}" to nbt of loop-entity
                message "Added %arg-1%!"
command /facing:
    trigger:
        broadcast "%horizontal facing of player%"

aliases:
    lan = 169
        
on left click:
    cancel the event
    if player's tool is {@PORTALGUN}:
        if type of player's target block is lan:
            set {_l} to location of player's target block
            set y-pos of {_l} to (y-pos of {_l}) - 1
            if type of block at {_l} is lan:
                cancel the event
                if {portalgun::blue::top::%player%} is set:
                    set block at {portalgun::blue::top::%player%} to lan
                    set block at {portalgun::blue::bottom::%player%} to lan
                set {portalgun::blue::top::%player%} to location of player's target block
                set {portalgun::blue::bottom::%player%} to {_l}
                set block at {portalgun::blue::top::%player%} to light green clay
                set block at {portalgun::blue::bottom::%player%} to cyan clay
                set {_dir} to "%horizontal facing of player%"
                if {_dir} is "north":
                    set {_dir} to "south"
                    set {_yaw} to 0
                else if {_dir} is "south":
                    set {_dir} to "north"
                    set {_yaw} to 180
                else if {_dir} is "west":
                    set {_dir} to "east"
                    set {_yaw} to 270
                else if {_dir} is "east":
                    set {_dir} to "west"
                    set {_yaw} to 90
                evaluate "set {_b} to location of the block %{_dir}% of the block at {_l}"
                set {portalgun::blue::front::%player%} to {_b}
                evaluate "set {_b} to location of the block %{_dir}% of the block at {_b}"
                set {portalgun::blue::teleportlocation::%player%} to {_b}
                set {portalgun::blue::teleportyaw::%player%} to {_yaw}
                set {portalgun::blue::teleportlocation::%player%}'s fixed yaw to {_yaw}
                set {portalgun::blue::teleportdir::%player%} to "%{_dir}%"
                play "SHOOT_ARROW" to player at volume 0.07
            else:
                uncancel the event
        else:
            uncancel the event
    else:
        uncancel the event
                      
                
                
                
on right click:
    cancel the event
    if player's tool is {@PORTALGUN}:
        if type of player's target block is lan:
            set {_l} to location of player's target block
            set y-pos of {_l} to (y-pos of {_l}) - 1
            if type of block at {_l} is lan:
                cancel the event
                if {portalgun::orange::top::%player%} is set:
                    set block at {portalgun::orange::top::%player%} to lan
                    set block at {portalgun::orange::bottom::%player%} to lan
                set {portalgun::orange::top::%player%} to location of player's target block
                set {portalgun::orange::bottom::%player%} to {_l}
                set block at {portalgun::orange::top::%player%} to orange clay
                set block at {portalgun::orange::bottom::%player%} to yellow clay
                set {_dir} to "%horizontal facing of player%"
                if {_dir} is "north":
                    set {_dir} to "south"
                    set {_yaw} to 0
                else if {_dir} is "south":
                    set {_dir} to "north"
                    set {_yaw} to 180
                else if {_dir} is "west":
                    set {_dir} to "east"
                    set {_yaw} to 270
                else if {_dir} is "east":
                    set {_dir} to "west"
                    set {_yaw} to 90
                evaluate "set {_b} to location of the block %{_dir}% of the block at {_l}"
                set {portalgun::orange::front::%player%} to {_b}
                evaluate "set {_b} to location of the block %{_dir}% of the block at {_b}"
                set {portalgun::orange::teleportlocation::%player%} to {_b}
                set {portalgun::orange::teleportyaw::%player%} to {_yaw}
                set {portalgun::orange::teleportlocation::%player%}'s fixed yaw to {_yaw}
                set {portalgun::orange::teleportdir::%player%} to "%{_dir}%"
                play "SHOOT_ARROW" to player at volume 0.07
            else:
                uncancel the event
        else:
            uncancel the event
    else:
        uncancel the event
                
                
on right click on sand:
    if player's tool is {@PORTALGUN}:
        drop a sand named "&rWeighted Companion Cube" at player's target block
        set player's target block to air
        
every tick in world "world":
    loop all players:
        if loop-player's tool is {@PORTALGUN}:
            if {portalgun::orange::bottom::%loop-player%} is set:
                if distance between loop-player's location and {portalgun::orange::bottom::%loop-player%} is less than 1.5:
                    set {portalgun::blue::teleportlocation::%loop-player%}'s fixed yaw to {portalgun::blue::teleportyaw::%loop-player%}
                    teleport loop-player to {portalgun::blue::teleportlocation::%loop-player%}
                    set {_l} to loop-player's location
                    set {_l}'s fixed yaw to {portalgun::blue::teleportyaw::%loop-player%}
                    teleport loop-player to {_l}
                else if distance between loop-player's location and {portalgun::blue::bottom::%loop-player%} is less than 1.5:
                    set {portalgun::orange::teleportlocation::%loop-player%}'s fixed yaw to {portalgun::orange::teleportyaw::%loop-player%}
                    teleport loop-player to {portalgun::orange::teleportlocation::%loop-player%}
                    set {_l} to loop-player's location
                    set {_l}'s fixed yaw to {portalgun::orange::teleportyaw::%loop-player%}
                    teleport loop-player to {_l}
command /clearportals:
    trigger:
        if {portalgun::blue::top::%player%} is set:
            set block at {portalgun::blue::top::%player%} to lan
            set block at {portalgun::blue::bottom::%player%} to lan
        if {portalgun::orange::top::%player%} is set:
            set block at {portalgun::orange::top::%player%} to lan
            set block at {portalgun::orange::bottom::%player%} to lan
        delete {portalgun::blue::top::%player%}
        delete {portalgun::orange::top::%player%}
        delete {portalgun::blue::bottom::%player%}
        delete {portalgun::orange::bottom::%player%}
        delete {portalgun::orange::lightrail::%player%}
        delete {portalgun::blue::lightrail::%player%}
        delete {portalgun::orange::teleportlocation::%player%}
        delete {portalgun::blue::teleportlocation::%player%}
        delete {portalgun::orange::teleportyaw::%player%}
        delete {portalgun::blue::teleportyaw::%player%}
        delete {portalgun::orange::front::%player%}
        delete {portalgun::blue::front::%player%}
command /yaw:
    trigger:
        broadcast "%{portalgun::blue::teleportyaw::%player%} - {portalgun::orange::teleportyaw::%player%}%"
                
                
                
every 5 tick:
    loop all players:
        if {portalgun::orange::bottom::%loop-player%} is set:
            if block at {portalgun::orange::front::%loop-player%} is rail:
                if {portalgun::blue::front::%loop-player%} is set:
                    set {portalgun::orange::lightrail::%loop-player%} to true
                else:
                    set {portalgun::orange::lightrail::%loop-player%} to false
            else:
                set {portalgun::orange::lightrail::%loop-player%} to false
command /skull [<text>]:
    trigger:
        give player skull of "%arg-1%" parsed as offline player
command /sd1:
    trigger:
        set {_l} to location at -579, 84, -600 of the world "world"
        set block at {_l} to sand
on block land:
    if "%event-location%" is "x: -578.5, y: 72.5, z: -599.5":
        wait 1 tick
        set block at event-location to air
        set {_l} to location at -579, 73, -600 of the world "world"
        spawn falling block at {_l}
        set {_e} to last spawned entity
        push {_e} east at speed 0.7
        push {_e} upwards at speed 0.5
every 2 minutes:
    make console execute "/save-all"
command /getclock:
    trigger:
        give player a redstone block named "&e&lClock"
on place:
    if player's tool is a redstone block named "&e&lClock":
        add location of player's target block to {clock::*}
every 5 ticks:
    loop {clock::*}:
        if type of block at loop-value is redstone block:
            set block at loop-value to wool
        else if block at loop-value is wool:
            set block at loop-value to redstone block
        else:
            set block at loop-value to air
            delete {clock::%loop-index%}
on entity target:
    if entity's target is a player:
        set {_l} to location of entity's target
        set y-pos of {_l} to y-pos of {_l} + 1
        loop 10 times:
            set y-pos of {_l} to y-pos of {_l} - 1
            if id of block at {_l} is 168:
                set {_good} to false
        if {_good} is false:
            cancel the event
        else if "%entity%" is "guardian":
            if name of entity's vehicle is "Turret":
                damage entity's target by 1.5
                make console execute "/playsound deploy %entity's target% %x-pos of location of entity's target% %y-pos of location of entity's target% %z-pos of location of entity's target% "
on right click:
    if player's tool is {@PORTALGUN}:
        if player's target is a creeper:
            if name of player's target entity is "Turret":
                if the id of the block below block at location of player is 168:
                    cancel the event
                    set {_e} to player's target entity
                    set {_l} to location of {_e}
                    add "{NoAI:0}" to nbt of {_e}
                    set {_lp} to location of {_e}
                    set y-pos of {_lp} to y-pos of {_lp} + 1.5
                    loop 15 times:
                        1.8 spawn 20 of particle flame:1 offset by 0, 0, 0 at {_lp} for all players
                        1.8 spawn 5 of particle red dust offset by 0, 0, 0 at {_lp} for all players
                        set y-pos of {_l} to y-pos of {_l} + 2
                        set {_l}'s fixed yaw to "%a random integer between -180 and 180%" parsed as number
                        teleport {_e} to {_l}
                        make console execute "/s:playsound turret_fire xXAndrew28Xx 0.1"
                        wait 6 tick
                    wait 30 tick
                    delete passenger of {_e}
                    set health of {_e} to 0
on shoot:
    if shooter's tool is {@PORTALGUN}:
        cancel the event
on drop:
    if event-item is {@PORTALGUN}:
        cancel the event
command /turret <integer>:
    trigger:
        make player execute "/summon Guardian ~ ~0.4 ~ {Attributes:[{Name:generic.maxHealth,Base:1},{Name:generic.movementSpeed,Base:0},{Name:generic.attackDamage,Base:10}],HealF:1,Rotation:[-%arg-1%f,0f],PersistenceRequired:1,ActiveEffects:[{Id:5,Amplifier:1,Duration:19999980,ShowParticles:0b},{Id:14,Amplifier:1,Duration:19999980,ShowParticles:0b}],Riding:{id:""Creeper"",Attributes:[{Name:generic.maxHealth,Base:1},{Name:generic.movementSpeed,Base:10}],HealF:1,Rotation:[-%arg-1%f,0f],PersistenceRequired:1,NoAI:1,Silent:1}}"
command /test:
    trigger:
        set player's target block to block 36
command /opd3:
    trigger:
        set {_l1} to block at location at -574, 64, -610 of the world "world"
        set {_l2} to block at location at -575, 65, -610 of the world "world"
        loop all blocks within {_l1} to {_l2}:
            if loop-block is glowstone:
                set loop-block to block 36
                set {_s} to true
            else:
                set loop-block to glowstone
                set {_s} to false
command /s:playsound <text> <player> [<number>]:
    trigger:
        if arg-3 is not set:
            set {_v} to "1"
        else:
            set {_v} to arg-3
        make console execute "/playsound %arg-1% %arg-2% %x-pos of arg-2% %y-pos of arg-2% %z-pos of arg-2% %{_v}%"
command /getid:
    trigger:
        message "%id of player's target block%:%data value of player's target block%"
# Script by: Vellfire (Faiz Noeris)
# Version: 0.3
#
# 
# Script by: Vellfire (Faiz Noeris)

# # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#		____ ____ _  _ _  _ ____ _  _ ___  ____ 		#
#		|    |  | |\/| |\/| |__| |\ | |  \ [__  		#
#		|___ |__| |  | |  | |  | | \| |__/ ___]			#
#														#
# # # # # # # # # # # # # # # # # # # # # # # # # # # # #

command /portalp1:
	description: Choose as the player 1!
	permission: skript.portal.p1
	trigger:
		if {portal.p1} is player:
			message "&4&lYou've already as the Player 1!"
			stop
		if {portal.p1} is set:
			message "&4&lCurrently %{portal.p1}% is playing as Player 1."
			stop
		if player have nether star named "&l&7 &l&1Portal &l&4Gun &l&7":
			set {portal.p1} to player's name
			message "&5Good, You're now has choosing as the Player 1! (&1Blue &5and &4Red&5)"
			stop
		give player a nether star named "&l&7 &l&1Portal &l&4Gun &l&7"
		set {portal.p1} to player's name
		message "&5Good, You're now has choosing as the Player 1! (&1Blue &5and &4Red&5)"
		stop

command /portalp2:
	description: Choose as the player 2!
	permission: skript.portal.p2
	trigger:
		if {portal.p2} is player:
			message "&4&lYou've already as the Player 2!"
			stop
		if {portal.p2} is set:
			message "&4&lCurrently %{portal.p2}% is playing as Player 2."
			stop
		if player have nether star named "&l&7 &l&3Portal &l&6Gun &l&7":
			set {portal.p2} to player's name
			message "&5Good, You're now has choosing as the Player 2! (&3Light Blue &5and &6Orange&5)"
			stop
		give player a nether star named "&l&7 &l&3Portal &l&6Gun &l&7"
		set {portal.p2} to player's name
		message "&5Good, You're now has choosing as the Player 2! (&3Light Blue &5and &6Orange&5)"
		stop

command /resetportal:
	description: RESET ALL THINGS!
	permission: skript.portal.admin
	trigger:
		loop all players:
			if {portal.p1} is not set:
				{portal.p2} is not set
				message "&4Theres nothing to reset."
				stop
			if {portal.p1} is loop-player:
				if {blueportal.p1.active} is 1:
					if {p1.horizoblue.faci} is north:
						wait a tick
						set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
						set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
						set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
						set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
						set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
						set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
						set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
						set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
						set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
						set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
						set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
						set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
						set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
						set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
					if {p1.horizoblue.faci} is east:
						wait a tick
						set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
						set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
						set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
						set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
						set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
						set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
						set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
						set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
						set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
						set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
						set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
						set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
						set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
						set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
					if {p1.horizoblue.faci} is west:
						wait a tick
						set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
						set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
						set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
						set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
						set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
						set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
						set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
						set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
						set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
						set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
						set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
						set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
						set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
						set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
					if {p1.horizoblue.faci} is south:
						wait a tick
						set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
						set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
						set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
						set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
						set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
						set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
						set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
						set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
						set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
						set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
						set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
						set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
						set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
						set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				if {redportal.p1.active} is 1:
					if {p1.horizored.faci} is north:
						wait a tick
						set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
						set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
						set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
						set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
						set block right {redportal.p1.loc} to {redportal.p1.oldblo::5}
						set block behind {redportal.p1.loc} to {redportal.p1.oldblo::6}
						set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
						set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
						set block east above {redportal.p1.loc} to {redportal.p1.oldblo::9}
						set block east below {redportal.p1.loc} to {redportal.p1.oldblo::10}
						set block west above {redportal.p1.loc} to {redportal.p1.oldblo::11}
						set block west below {redportal.p1.loc} to {redportal.p1.oldblo::12}
						set block north above {redportal.p1.loc} to {redportal.p1.oldblo::13}
						set block north below {redportal.p1.loc} to {redportal.p1.oldblo::14}
					if {p1.horizored.faci} is east:
						wait a tick
						set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
						set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
						set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
						set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
						set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
						set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
						set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
						set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
						set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
						set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
						set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
						set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
						set block east above {redportal.p1.loc} to {redportal.p1.oldblo::13}
						set block east below {redportal.p1.loc} to {redportal.p1.oldblo::14}
					if {p1.horizored.faci} is west:
						wait a tick
						set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
						set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
						set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
						set block right {redportal.p1.loc} to {redportal.p1.oldblo::4}
						set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
						set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
						set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
						set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
						set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
						set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
						set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
						set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
						set block west above {redportal.p1.loc} to {redportal.p1.oldblo::13}
						set block west below {redportal.p1.loc} to {redportal.p1.oldblo::14}
					if {p1.horizored.faci} is south:
						wait a tick
						set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
						set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
						set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
						set block forward {redportal.p1.loc} to {redportal.p1.oldblo::4}
						set block left {redportal.p1.loc} to {redportal.p1.oldblo::5}
						set block right {redportal.p1.loc} to {redportal.p1.oldblo::6}
						set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
						set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
						set block west above {redportal.p1.loc} to {redportal.p1.oldblo::9}
						set block west below {redportal.p1.loc} to {redportal.p1.oldblo::10}
						set block east above {redportal.p1.loc} to {redportal.p1.oldblo::11}
						set block east below {redportal.p1.loc} to {redportal.p1.oldblo::12}
						set block south above {redportal.p1.loc} to {redportal.p1.oldblo::13}
						set block south below {redportal.p1.loc} to {redportal.p1.oldblo::14}

			if {portal.p2} is loop-player:
				if {blueportal.p2.active} is 1:
					if {p2.horizoblue.faci} is north:
						wait a tick
						set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
						set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
						set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
						set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
						set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
						set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
						set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
						set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
						set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
						set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
						set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
						set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
						set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
						set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
					if {p2.horizoblue.faci} is east:
						wait a tick
						set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
						set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
						set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
						set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
						set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
						set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
						set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
						set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
						set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
						set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
						set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
						set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
						set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
						set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
					if {p2.horizoblue.faci} is west:
						wait a tick
						set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
						set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
						set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
						set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
						set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
						set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
						set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
						set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
						set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
						set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
						set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
						set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
						set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
						set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
					if {p2.horizoblue.faci} is south:
						wait a tick
						set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
						set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
						set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
						set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
						set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
						set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
						set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
						set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
						set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
						set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
						set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
						set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
						set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
						set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				if {redportal.p2.active} is 1:
					if {p2.horizored.faci} is north:
						wait a tick
						set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
						set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
						set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
						set block left {redportal.p2.loc} to {redportal.p2.oldblo::4}
						set block right {redportal.p2.loc} to {redportal.p2.oldblo::5}
						set block behind {redportal.p2.loc} to {redportal.p2.oldblo::6}
						set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
						set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
						set block east above {redportal.p2.loc} to {redportal.p2.oldblo::9}
						set block east below {redportal.p2.loc} to {redportal.p2.oldblo::10}
						set block west above {redportal.p2.loc} to {redportal.p2.oldblo::11}
						set block west below {redportal.p2.loc} to {redportal.p2.oldblo::12}
						set block north above {redportal.p2.loc} to {redportal.p2.oldblo::13}
						set block north below {redportal.p2.loc} to {redportal.p2.oldblo::14}
					if {p2.horizored.faci} is east:
						wait a tick
						set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
						set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
						set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
						set block left {redportal.p2.loc} to {redportal.p2.oldblo::4}
						set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
						set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
						set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
						set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
						set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
						set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
						set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
						set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
						set block east above {redportal.p2.loc} to {redportal.p2.oldblo::13}
						set block east below {redportal.p2.loc} to {redportal.p2.oldblo::14}
					if {p2.horizored.faci} is west:
						wait a tick
						set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
						set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
						set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
						set block right {redportal.p2.loc} to {redportal.p2.oldblo::4}
						set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
						set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
						set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
						set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
						set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
						set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
						set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
						set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
						set block west above {redportal.p2.loc} to {redportal.p2.oldblo::13}
						set block west below {redportal.p2.loc} to {redportal.p2.oldblo::14}
					if {p2.horizored.faci} is south:
						wait a tick
						set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
						set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
						set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
						set block forward {redportal.p2.loc} to {redportal.p2.oldblo::4}
						set block left {redportal.p2.loc} to {redportal.p2.oldblo::5}
						set block right {redportal.p2.loc} to {redportal.p2.oldblo::6}
						set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
						set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
						set block west above {redportal.p2.loc} to {redportal.p2.oldblo::9}
						set block west below {redportal.p2.loc} to {redportal.p2.oldblo::10}
						set block east above {redportal.p2.loc} to {redportal.p2.oldblo::11}
						set block east below {redportal.p2.loc} to {redportal.p2.oldblo::12}
						set block south above {redportal.p2.loc} to {redportal.p2.oldblo::13}
						set block south below {redportal.p2.loc} to {redportal.p2.oldblo::14}
			clear {portal.p1}
			clear {portal.p2}
			clear {p1.horizontal.faci.check}
			clear {p1.horizontal.faci}
			clear {p1.horizonta2.faci.check}
			clear {p1.horizonta2.faci}
			clear {blueportal.p1.loc}
			clear {blueportal.p1.active}
			clear {blueportal.p1.loc.check}
			clear {blueportal.p1.loc}
			clear {blueportal.p2.active}
			clear {blueportal.p2.loc.check}
			clear {blueportal.p2.loc}
			clear {redportal.p1.loc}
			clear {redportal.p1.active}
			clear {redportal.p1.loc.check}
			clear {redportal.p1.loc}
			clear {redportal.p2.active}
			clear {redportal.p2.loc.check}
			clear {redportal.p2.loc}
			message "&4&lAll has been reset!"
			stop

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#		____ _  _ ___     ____ ____ _  _ _  _ ____ _  _ ___  ____ 		#
#		|___ |\ | |  \    |    |  | |\/| |\/| |__| |\ | |  \ [__  		#
#		|___ | \| |__/    |___ |__| |  | |  | |  | | \| |__/ ___] 		#
#																		#
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#		____ _    ____ ____ ____ _ _  _ ____    ___  ____ ____ ___ ____ _  	    #
#		|    |    |___ |__| |__/ | |\ | | __    |__] |  | |__/  |  |__| |  		#  
#		|___ |___ |___ |  | |  \ | | \| |__]    |    |__| |  \  |  |  | |___ 	#
#																				#	
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #	#

on quit:
	if {portal.p1} is player:
		if {blueportal.p1.active} is 1:
			if {p1.horizoblue.faci} is north:
				set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
				set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
				set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
				set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
				set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
				set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
				set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
				set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
				set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
				set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
				set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
				set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
				set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
				set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
			if {p1.horizoblue.faci} is east:
				set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
				set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
				set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
				set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
				set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
				set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
				set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
				set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
				set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
				set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
				set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
				set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
				set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
				set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
			if {p1.horizoblue.faci} is west:
				set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
				set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
				set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
				set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
				set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
				set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
				set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
				set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
				set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
				set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
				set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
				set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
				set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
				set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
			if {p1.horizoblue.faci} is south:
				set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
				set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
				set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
				set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
				set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
				set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
				set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
				set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
				set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
				set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
				set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
				set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
				set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
				set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
		if {redportal.p1.active} is 1:
			if {p1.horizored.faci} is north:
				set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
				set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
				set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
				set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
				set block right {redportal.p1.loc} to {redportal.p1.oldblo::5}
				set block behind {redportal.p1.loc} to {redportal.p1.oldblo::6}
				set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
				set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
				set block east above {redportal.p1.loc} to {redportal.p1.oldblo::9}
				set block east below {redportal.p1.loc} to {redportal.p1.oldblo::10}
				set block west above {redportal.p1.loc} to {redportal.p1.oldblo::11}
				set block west below {redportal.p1.loc} to {redportal.p1.oldblo::12}
				set block north above {redportal.p1.loc} to {redportal.p1.oldblo::13}
				set block north below {redportal.p1.loc} to {redportal.p1.oldblo::14}
			if {p1.horizored.faci} is east:
				set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
				set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
				set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
				set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
				set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
				set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
				set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
				set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
				set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
				set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
				set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
				set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
				set block east above {redportal.p1.loc} to {redportal.p1.oldblo::13}
				set block east below {redportal.p1.loc} to {redportal.p1.oldblo::14}
			if {p1.horizored.faci} is west:
				set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
				set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
				set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
				set block right {redportal.p1.loc} to {redportal.p1.oldblo::4}
				set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
				set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
				set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
				set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
				set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
				set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
				set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
				set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
				set block west above {redportal.p1.loc} to {redportal.p1.oldblo::13}
				set block west below {redportal.p1.loc} to {redportal.p1.oldblo::14}
			if {p1.horizored.faci} is south:
				set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
				set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
				set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
				set block forward {redportal.p1.loc} to {redportal.p1.oldblo::4}
				set block left {redportal.p1.loc} to {redportal.p1.oldblo::5}
				set block right {redportal.p1.loc} to {redportal.p1.oldblo::6}
				set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
				set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
				set block west above {redportal.p1.loc} to {redportal.p1.oldblo::9}
				set block west below {redportal.p1.loc} to {redportal.p1.oldblo::10}
				set block east above {redportal.p1.loc} to {redportal.p1.oldblo::11}
				set block east below {redportal.p1.loc} to {redportal.p1.oldblo::12}
				set block south above {redportal.p1.loc} to {redportal.p1.oldblo::13}
				set block south below {redportal.p1.loc} to {redportal.p1.oldblo::14}
			clear {blueportal.p1.loc}
			clear {blueportal.p1.active}
			clear {p1.horizontal.faci.check}
			clear {p1.horizontal.faci}
			clear {blueportal.p1.loc.check}
			clear {redportal.p1.loc}
			clear {redportal.p1.active}
			clear {redportal.p1.loc.check}
			clear {redportal.p1.loc}
			clear {redportal.p2.active}
			clear {redportal.p2.loc.check}
			clear {redportal.p2.loc}
		stop

	if {portal.p2} is player:
		if {blueportal.p2.active} is 1:
			if {p2.horizoblue.faci} is north:
				set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
				set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
				set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
				set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
				set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
				set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
				set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
				set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
				set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
				set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
				set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
				set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
				set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
				set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
			if {p2.horizoblue.faci} is east:
				set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
				set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
				set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
				set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
				set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
				set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
				set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
				set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
				set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
				set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
				set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
				set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
				set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
				set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
			if {p2.horizoblue.faci} is west:
				set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
				set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
				set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
				set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
				set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
				set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
				set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
				set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
				set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
				set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
				set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
				set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
				set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
				set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
			if {p2.horizoblue.faci} is south:
				set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
				set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
				set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
				set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
				set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
				set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
				set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
				set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
				set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
				set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
				set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
				set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
				set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
				set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
		if {redportal.p2.active} is 1:
			if {p2.horizored.faci} is north:
				set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
				set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
				set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
				set block left {redportal.p2.loc} to {redportal.p2.oldblo::4}
				set block right {redportal.p2.loc} to {redportal.p2.oldblo::5}
				set block behind {redportal.p2.loc} to {redportal.p2.oldblo::6}
				set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
				set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
				set block east above {redportal.p2.loc} to {redportal.p2.oldblo::9}
				set block east below {redportal.p2.loc} to {redportal.p2.oldblo::10}
				set block west above {redportal.p2.loc} to {redportal.p2.oldblo::11}
				set block west below {redportal.p2.loc} to {redportal.p2.oldblo::12}
				set block north above {redportal.p2.loc} to {redportal.p2.oldblo::13}
				set block north below {redportal.p2.loc} to {redportal.p2.oldblo::14}
			if {p2.horizored.faci} is east:
				set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
				set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
				set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
				set block left {redportal.p2.loc} to {redportal.p2.oldblo::4}
				set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
				set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
				set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
				set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
				set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
				set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
				set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
				set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
				set block east above {redportal.p2.loc} to {redportal.p2.oldblo::13}
				set block east below {redportal.p2.loc} to {redportal.p2.oldblo::14}
			if {p2.horizored.faci} is west:
				set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
				set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
				set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
				set block right {redportal.p2.loc} to {redportal.p2.oldblo::4}
				set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
				set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
				set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
				set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
				set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
				set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
				set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
				set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
				set block west above {redportal.p2.loc} to {redportal.p2.oldblo::13}
				set block west below {redportal.p2.loc} to {redportal.p2.oldblo::14}
			if {p2.horizored.faci} is south:
				set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
				set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
				set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
				set block forward {redportal.p2.loc} to {redportal.p2.oldblo::4}
				set block left {redportal.p2.loc} to {redportal.p2.oldblo::5}
				set block right {redportal.p2.loc} to {redportal.p2.oldblo::6}
				set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
				set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
				set block west above {redportal.p2.loc} to {redportal.p2.oldblo::9}
				set block west below {redportal.p2.loc} to {redportal.p2.oldblo::10}
				set block east above {redportal.p2.loc} to {redportal.p2.oldblo::11}
				set block east below {redportal.p2.loc} to {redportal.p2.oldblo::12}
				set block south above {redportal.p2.loc} to {redportal.p2.oldblo::13}
				set block south below {redportal.p2.loc} to {redportal.p2.oldblo::14}
			clear {blueportal.p2.loc}
			clear {blueportal.p2.active}
			clear {p2.horizontal.faci.check}
			clear {p2.horizontal.faci}
			clear {blueportal.p2.loc.check}
			clear {redportal.p1.loc}
			clear {redportal.p1.active}
			clear {redportal.p1.loc.check}
			clear {redportal.p1.loc}
			clear {redportal.p2.active}
			clear {redportal.p2.loc.check}
			clear {redportal.p2.loc}
		stop

on sneak toggle:
	if {portal.p1} is player:
		if {blueportal.p1.active} is 1:
			if {p1.horizoblue.faci} is north:
				set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
				set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
				set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
				set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
				set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
				set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
				set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
				set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
				set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
				set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
				set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
				set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
				set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
				set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
			if {p1.horizoblue.faci} is east:
				set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
				set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
				set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
				set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
				set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
				set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
				set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
				set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
				set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
				set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
				set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
				set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
				set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
				set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
			if {p1.horizoblue.faci} is west:
				set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
				set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
				set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
				set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
				set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
				set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
				set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
				set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
				set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
				set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
				set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
				set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
				set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
				set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
			if {p1.horizoblue.faci} is south:
				set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
				set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
				set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
				set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
				set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
				set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
				set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
				set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
				set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
				set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
				set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
				set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
				set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
				set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
		if {redportal.p1.active} is 1:
			if {p1.horizored.faci} is north:
				set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
				set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
				set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
				set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
				set block right {redportal.p1.loc} to {redportal.p1.oldblo::5}
				set block behind {redportal.p1.loc} to {redportal.p1.oldblo::6}
				set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
				set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
				set block east above {redportal.p1.loc} to {redportal.p1.oldblo::9}
				set block east below {redportal.p1.loc} to {redportal.p1.oldblo::10}
				set block west above {redportal.p1.loc} to {redportal.p1.oldblo::11}
				set block west below {redportal.p1.loc} to {redportal.p1.oldblo::12}
				set block north above {redportal.p1.loc} to {redportal.p1.oldblo::13}
				set block north below {redportal.p1.loc} to {redportal.p1.oldblo::14}
			if {p1.horizored.faci} is east:
				set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
				set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
				set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
				set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
				set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
				set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
				set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
				set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
				set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
				set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
				set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
				set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
				set block east above {redportal.p1.loc} to {redportal.p1.oldblo::13}
				set block east below {redportal.p1.loc} to {redportal.p1.oldblo::14}
			if {p1.horizored.faci} is west:
				set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
				set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
				set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
				set block right {redportal.p1.loc} to {redportal.p1.oldblo::4}
				set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
				set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
				set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
				set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
				set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
				set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
				set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
				set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
				set block west above {redportal.p1.loc} to {redportal.p1.oldblo::13}
				set block west below {redportal.p1.loc} to {redportal.p1.oldblo::14}
			if {p1.horizored.faci} is south:
				set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
				set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
				set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
				set block forward {redportal.p1.loc} to {redportal.p1.oldblo::4}
				set block left {redportal.p1.loc} to {redportal.p1.oldblo::5}
				set block right {redportal.p1.loc} to {redportal.p1.oldblo::6}
				set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
				set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
				set block west above {redportal.p1.loc} to {redportal.p1.oldblo::9}
				set block west below {redportal.p1.loc} to {redportal.p1.oldblo::10}
				set block east above {redportal.p1.loc} to {redportal.p1.oldblo::11}
				set block east below {redportal.p1.loc} to {redportal.p1.oldblo::12}
				set block south above {redportal.p1.loc} to {redportal.p1.oldblo::13}
				set block south below {redportal.p1.loc} to {redportal.p1.oldblo::14}
			clear {blueportal.p1.loc}
			clear {blueportal.p1.active}
			clear {p1.horizontal.faci.check}
			clear {p1.horizontal.faci}
			clear {blueportal.p1.loc.check}
			clear {redportal.p1.loc}
			clear {redportal.p1.active}
			clear {redportal.p1.loc.check}
			clear {redportal.p1.loc}
			clear {redportal.p2.active}
			clear {redportal.p2.loc.check}
			clear {redportal.p2.loc}

	if {portal.p2} is player:
		if {blueportal.p2.active} is 1:
			if {p2.horizoblue.faci} is north:
				set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
				set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
				set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
				set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
				set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
				set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
				set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
				set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
				set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
				set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
				set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
				set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
				set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
				set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
			if {p2.horizoblue.faci} is east:
				set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
				set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
				set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
				set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
				set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
				set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
				set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
				set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
				set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
				set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
				set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
				set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
				set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
				set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
			if {p2.horizoblue.faci} is west:
				set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
				set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
				set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
				set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
				set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
				set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
				set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
				set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
				set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
				set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
				set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
				set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
				set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
				set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
			if {p2.horizoblue.faci} is south:
				set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
				set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
				set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
				set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
				set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
				set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
				set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
				set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
				set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
				set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
				set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
				set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
				set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
				set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
		if {redportal.p2.active} is 1:
			if {p2.horizored.faci} is north:
				set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
				set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
				set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
				set block left {redportal.p2.loc} to {redportal.p2.oldblo::4}
				set block right {redportal.p2.loc} to {redportal.p2.oldblo::5}
				set block behind {redportal.p2.loc} to {redportal.p2.oldblo::6}
				set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
				set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
				set block east above {redportal.p2.loc} to {redportal.p2.oldblo::9}
				set block east below {redportal.p2.loc} to {redportal.p2.oldblo::10}
				set block west above {redportal.p2.loc} to {redportal.p2.oldblo::11}
				set block west below {redportal.p2.loc} to {redportal.p2.oldblo::12}
				set block north above {redportal.p2.loc} to {redportal.p2.oldblo::13}
				set block north below {redportal.p2.loc} to {redportal.p2.oldblo::14}
			if {p2.horizored.faci} is east:
				set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
				set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
				set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
				set block left {redportal.p2.loc} to {redportal.p2.oldblo::4}
				set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
				set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
				set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
				set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
				set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
				set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
				set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
				set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
				set block east above {redportal.p2.loc} to {redportal.p2.oldblo::13}
				set block east below {redportal.p2.loc} to {redportal.p2.oldblo::14}
			if {p2.horizored.faci} is west:
				set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
				set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
				set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
				set block right {redportal.p2.loc} to {redportal.p2.oldblo::4}
				set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
				set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
				set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
				set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
				set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
				set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
				set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
				set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
				set block west above {redportal.p2.loc} to {redportal.p2.oldblo::13}
				set block west below {redportal.p2.loc} to {redportal.p2.oldblo::14}
			if {p2.horizored.faci} is south:
				set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
				set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
				set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
				set block forward {redportal.p2.loc} to {redportal.p2.oldblo::4}
				set block left {redportal.p2.loc} to {redportal.p2.oldblo::5}
				set block right {redportal.p2.loc} to {redportal.p2.oldblo::6}
				set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
				set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
				set block west above {redportal.p2.loc} to {redportal.p2.oldblo::9}
				set block west below {redportal.p2.loc} to {redportal.p2.oldblo::10}
				set block east above {redportal.p2.loc} to {redportal.p2.oldblo::11}
				set block east below {redportal.p2.loc} to {redportal.p2.oldblo::12}
				set block south above {redportal.p2.loc} to {redportal.p2.oldblo::13}
				set block south below {redportal.p2.loc} to {redportal.p2.oldblo::14}
			clear {blueportal.p2.loc}
			clear {blueportal.p2.active}
			clear {p2.horizontal.faci.check}
			clear {p2.horizontal.faci}
			clear {blueportal.p2.loc.check}
			clear {redportal.p1.loc}
			clear {redportal.p1.active}
			clear {redportal.p1.loc.check}
			clear {redportal.p1.loc}
			clear {redportal.p2.active}
			clear {redportal.p2.loc.check}
			clear {redportal.p2.loc}

# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #
#		____ _  _ ___     ____ _    ____ ____ ____ _ _  _ ____ 		#
#		|___ |\ | |  \    |    |    |___ |__| |__/ | |\ | | __ 		#
#		|___ | \| |__/    |___ |___ |___ |  | |  \ | | \| |__] 		#
#                                                       			#
#		___  ____ ____ ___ ____ _    								#
#		|__] |  | |__/  |  |__| |    								#
#		|    |__| |  \  |  |  | |___ 								#	
# 																	#
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #

# # # # # # # # # # # # # # # # #
#		_  _ ____ _ _  _ 		#
#		|\/| |__| | |\ | 		#
#		|  | |  | | | \| 		#
#								#
# # # # # # # # # # # # # # # # #

#
#		BLUE (Player 1) & LIGHT BLUE (Player 2) PORTAL
#

on left click with nether star:
	cancel event
	targeted block is not air

#
#		NORTH
#

	if player's horizontal facing is north:
		if {portal.p1} is equal to player's name:
			name of player's held item is "&l&7 &l&1Portal &l&4Gun &l&7"
			set {p1.horizoblue.faci.check} to player's horizontal facing

			set {blueportal.p1.loc.check} to location at targeted block
			if distance between {blueportal.p1.loc.check} and {blueportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop
			if distance between {blueportal.p1.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop
			if distance between {blueportal.p1.loc.check} and {blueportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop
			if distance between {blueportal.p1.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop

			if {blueportal.p1.active} is 1:
				if {p1.horizoblue.faci.check} is equal to {p1.horizoblue.faci}:
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				if {p1.horizoblue.faci.check} is not equal to {p1.horizoblue.faci}:
					{p1.horizoblue.faci} is east
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				if {p1.horizoblue.faci.check} is not equal to {p1.horizoblue.faci}:
					{p1.horizoblue.faci} is west
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				if {p1.horizoblue.faci.check} is not equal to {p1.horizoblue.faci}:
					{p1.horizoblue.faci} is south
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				clear {blueportal.p1.loc}
				clear {blueportal.p1.active}
				clear {p1.horizoblue.faci.check}
				clear {p1.horizoblue.faci}
				clear {blueportal.p1.oldbloc::*}

			set {blueportal.p1.loc} to location at targeted block

			set {blueportal.p1.oldblo::1} to type of block at {blueportal.p1.loc}
			set {blueportal.p1.oldblo::2} to type of block above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::3} to type of block below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::4} to type of block left {blueportal.p1.loc}
			set {blueportal.p1.oldblo::5} to type of block right {blueportal.p1.loc}
			set {blueportal.p1.oldblo::6} to type of block behind {blueportal.p1.loc}
			set {blueportal.p1.oldblo::7} to type of block 2 above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::8} to type of block 2 below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::9} to type of block east above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::10} to type of block east below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::11} to type of block west above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::12} to type of block west below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::13} to type of block north above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::14} to type of block north below {blueportal.p1.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block left targeted block to blue wool
			set block right targeted block to blue wool
			set block behind targeted block to block of coal
			set block 2 above targeted block to blue wool
			set block 2 below targeted block to blue wool
			set block east above targeted block to blue wool
			set block east below targeted block to blue wool
			set block west above targeted block to blue wool
			set block west below targeted block to blue wool
			set block north above targeted block to block of coal
			set block north below targeted block to block of coal

			set {blueportal.p1.active} to 1
			set {p1.horizoblue.faci} to player's horizontal facing
			set {blueportal.direction.p1} to north
			stop	

		if {portal.p2} is equal to player's name:
			name of player's held item is "&l&7 &l&3Portal &l&6Gun &l&7"
			set {p2.horizoblue.faci.check} to player's horizontal facing

			set {blueportal.p2.loc.check} to location at targeted block
			if distance between {blueportal.p2.loc.check} and {blueportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop
			if distance between {blueportal.p2.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop
			if distance between {blueportal.p2.loc.check} and {blueportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop
			if distance between {blueportal.p2.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop

			if {blueportal.p2.active} is 1:
				if {p2.horizoblue.faci.check} is equal to {p2.horizoblue.faci}:
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				if {p2.horizoblue.faci.check} is not equal to {p2.horizoblue.faci}:
					{p2.horizoblue.faci} is east
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				if {p2.horizoblue.faci.check} is not equal to {p2.horizoblue.faci}:
					{p2.horizoblue.faci} is west
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				if {p2.horizoblue.faci.check} is not equal to {p2.horizoblue.faci}:
					{p2.horizoblue.faci} is south
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				clear {blueportal.p2.loc}
				clear {blueportal.p2.active}
				clear {p2.horizoblue.faci.check}
				clear {p2.horizoblue.faci}
				clear {blueportal.p2.oldbloc::*}

			set {blueportal.p2.loc} to location at targeted block

			set {blueportal.p2.oldblo::1} to type of block at {blueportal.p2.loc}
			set {blueportal.p2.oldblo::2} to type of block above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::3} to type of block below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::4} to type of block left {blueportal.p2.loc}
			set {blueportal.p2.oldblo::5} to type of block right {blueportal.p2.loc}
			set {blueportal.p2.oldblo::6} to type of block behind {blueportal.p2.loc}
			set {blueportal.p2.oldblo::7} to type of block 2 above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::8} to type of block 2 below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::9} to type of block east above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::10} to type of block east below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::11} to type of block west above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::12} to type of block west below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::13} to type of block north above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::14} to type of block north below {blueportal.p2.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block left targeted block to light blue wool
			set block right targeted block to light blue wool
			set block behind targeted block to block of coal
			set block 2 above targeted block to light blue wool
			set block 2 below targeted block to light blue wool
			set block east above targeted block to light blue wool
			set block east below targeted block to light blue wool
			set block west above targeted block to light blue wool
			set block west below targeted block to light blue wool
			set block north above targeted block to block of coal
			set block north below targeted block to block of coal

			set {blueportal.p2.active} to 1
			set {p2.horizoblue.faci} to player's horizontal facing
			set {blueportal.direction.p2} to north
			stop	

#
# 	EAST
#		

	if player's horizontal facing is east:
		if {portal.p1} is equal to player's name:
			name of player's held item is "&l&7 &l&1Portal &l&4Gun &l&7"
			set {p1.horizoblue.faci.check} to player's horizontal facing

			set {blueportal.p1.loc.check} to location at targeted block
			if distance between {blueportal.p1.loc.check} and {blueportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop
			if distance between {blueportal.p1.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop
			if distance between {blueportal.p1.loc.check} and {blueportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop
			if distance between {blueportal.p1.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop

			if {blueportal.p1.active} is 1:
				if {p1.horizoblue.faci.check} is equal to {p1.horizoblue.faci}:
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				if {p1.horizoblue.faci.check} is not equal to {p1.horizoblue.faci}:
					{p1.horizoblue.faci} is north
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				if {p1.horizoblue.faci.check} is not equal to {p1.horizoblue.faci}:
					{p1.horizoblue.faci} is west
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				if {p1.horizoblue.faci.check} is not equal to {p1.horizoblue.faci}:
					{p1.horizoblue.faci} is south
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				clear {blueportal.p1.loc}
				clear {blueportal.p1.active}
				clear {p1.horizoblue.faci.check}
				clear {p1.horizoblue.faci}
				clear {blueportal.p1.oldbloc::*}

			set {blueportal.p1.loc} to location at targeted block

			set {blueportal.p1.oldblo::1} to type of block at {blueportal.p1.loc}
			set {blueportal.p1.oldblo::2} to type of block above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::3} to type of block below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::4} to type of block left {blueportal.p1.loc}
			set {blueportal.p1.oldblo::5} to type of block behind {blueportal.p1.loc}
			set {blueportal.p1.oldblo::6} to type of block forward {blueportal.p1.loc}
			set {blueportal.p1.oldblo::7} to type of block 2 above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::8} to type of block 2 below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::9} to type of block north above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::10} to type of block north below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::11} to type of block south above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::12} to type of block south below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::13} to type of block east above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::14} to type of block east below {blueportal.p1.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block left targeted block to block of coal
			set block behind targeted block to blue wool
			set block forward targeted block to blue wool
			set block 2 above targeted block to blue wool
			set block 2 below targeted block to blue wool
			set block north above targeted block to blue wool
			set block north below targeted block to blue wool
			set block south above targeted block to blue wool
			set block south below targeted block to blue wool
			set block east above targeted block to block of coal
			set block east below targeted block to block of coal

			set {blueportal.p1.active} to 1
			set {p1.horizoblue.faci} to player's horizontal facing
			set {blueportal.direction.p1} to east
			stop	

		if {portal.p2} is equal to player's name:
			name of player's held item is "&l&7 &l&3Portal &l&6Gun &l&7"
			set {p2.horizoblue.faci.check} to player's horizontal facing

			set {blueportal.p2.loc.check} to location at targeted block
			if distance between {blueportal.p2.loc.check} and {blueportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop
			if distance between {blueportal.p2.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop
			if distance between {blueportal.p2.loc.check} and {blueportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop
			if distance between {blueportal.p2.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop

			if {blueportal.p2.active} is 1:
				if {p2.horizoblue.faci.check} is equal to {p2.horizoblue.faci}:
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				if {p2.horizoblue.faci.check} is not equal to {p2.horizoblue.faci}:
					{p2.horizoblue.faci} is north
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				if {p2.horizoblue.faci.check} is not equal to {p2.horizoblue.faci}:
					{p2.horizoblue.faci} is west
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				if {p2.horizoblue.faci.check} is not equal to {p2.horizoblue.faci}:
					{p2.horizoblue.faci} is south
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				clear {blueportal.p2.loc}
				clear {blueportal.p2.active}
				clear {p2.horizoblue.faci.check}
				clear {p2.horizoblue.faci}
				clear {blueportal.p2.oldbloc::*}

			set {blueportal.p2.loc} to location at targeted block

			set {blueportal.p2.oldblo::1} to type of block at {blueportal.p2.loc}
			set {blueportal.p2.oldblo::2} to type of block above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::3} to type of block below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::4} to type of block left {blueportal.p2.loc}
			set {blueportal.p2.oldblo::5} to type of block behind {blueportal.p2.loc}
			set {blueportal.p2.oldblo::6} to type of block forward {blueportal.p2.loc}
			set {blueportal.p2.oldblo::7} to type of block 2 above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::8} to type of block 2 below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::9} to type of block north above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::10} to type of block north below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::11} to type of block south above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::12} to type of block south below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::13} to type of block east above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::14} to type of block east below {blueportal.p2.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block left targeted block to block of coal
			set block behind targeted block to light blue wool
			set block forward targeted block to light blue wool
			set block 2 above targeted block to light blue wool
			set block 2 below targeted block to light blue wool
			set block north above targeted block to light blue wool
			set block north below targeted block to light blue wool
			set block south above targeted block to light blue wool
			set block south below targeted block to light blue wool
			set block east above targeted block to block of coal
			set block east below targeted block to block of coal

			set {blueportal.p2.active} to 1
			set {p2.horizoblue.faci} to player's horizontal facing
			set {blueportal.direction.p2} to east
			stop
		else:
			stop

#
#	WEST
#

	if player's horizontal facing is west:
		if {portal.p1} is equal to player's name:
			name of player's held item is "&l&7 &l&1Portal &l&4Gun &l&7"
			set {p1.horizoblue.faci.check} to player's horizontal facing

			set {blueportal.p1.loc.check} to location at targeted block
			if distance between {blueportal.p1.loc.check} and {blueportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop
			if distance between {blueportal.p1.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop
			if distance between {blueportal.p1.loc.check} and {blueportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop
			if distance between {blueportal.p1.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop

			if {blueportal.p1.active} is 1:
				if {p1.horizoblue.faci.check} is equal to {p1.horizoblue.faci}:
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				if {p1.horizoblue.faci.check} is not equal to {p1.horizoblue.faci}:
					{p1.horizoblue.faci} is north
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				if {p1.horizoblue.faci.check} is not equal to {p1.horizoblue.faci}:
					{p1.horizoblue.faci} is east
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				if {p1.horizoblue.faci.check} is not equal to {p1.horizoblue.faci}:
					{p1.horizoblue.faci} is south
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				clear {blueportal.p1.loc}
				clear {blueportal.p1.active}
				clear {p1.horizoblue.faci.check}
				clear {p1.horizoblue.faci}
				clear {blueportal.p1.oldbloc::*}

			set {blueportal.p1.loc} to location at targeted block

			set {blueportal.p1.oldblo::1} to type of block at {blueportal.p1.loc}
			set {blueportal.p1.oldblo::2} to type of block above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::3} to type of block below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::4} to type of block right {blueportal.p1.loc}
			set {blueportal.p1.oldblo::5} to type of block behind {blueportal.p1.loc}
			set {blueportal.p1.oldblo::6} to type of block forward {blueportal.p1.loc}
			set {blueportal.p1.oldblo::7} to type of block 2 above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::8} to type of block 2 below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::9} to type of block north above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::10} to type of block north below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::11} to type of block south above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::12} to type of block south below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::13} to type of block west above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::14} to type of block west below {blueportal.p1.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block right targeted block to block of coal
			set block behind targeted block to blue wool
			set block forward targeted block to blue wool
			set block 2 above targeted block to blue wool
			set block 2 below targeted block to blue wool
			set block north above targeted block to blue wool
			set block north below targeted block to blue wool
			set block south above targeted block to blue wool
			set block south below targeted block to blue wool
			set block west above targeted block to block of coal
			set block west below targeted block to block of coal

			set {blueportal.p1.active} to 1
			set {p1.horizoblue.faci} to player's horizontal facing
			set {blueportal.direction.p1} to west
			stop

		if {portal.p2} is equal to player's name:
			name of player's held item is "&l&7 &l&3Portal &l&6Gun &l&7"
			set {p2.horizoblue.faci.check} to player's horizontal facing

			set {blueportal.p2.loc.check} to location at targeted block
			if distance between {blueportal.p2.loc.check} and {blueportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop
			if distance between {blueportal.p2.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop
			if distance between {blueportal.p2.loc.check} and {blueportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop
			if distance between {blueportal.p2.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop

			if {blueportal.p2.active} is 1:
				if {p2.horizoblue.faci.check} is equal to {p2.horizoblue.faci}:
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				if {p2.horizoblue.faci.check} is not equal to {p2.horizoblue.faci}:
					{p2.horizoblue.faci} is north
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				if {p2.horizoblue.faci.check} is not equal to {p2.horizoblue.faci}:
					{p2.horizoblue.faci} is east
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				if {p2.horizoblue.faci.check} is not equal to {p2.horizoblue.faci}:
					{p2.horizoblue.faci} is south
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				clear {blueportal.p2.loc}
				clear {blueportal.p2.active}
				clear {p2.horizoblue.faci.check}
				clear {p2.horizoblue.faci}
				clear {blueportal.p2.oldbloc::*}

			set {blueportal.p2.loc} to location at targeted block

			set {blueportal.p2.oldblo::1} to type of block at {blueportal.p2.loc}
			set {blueportal.p2.oldblo::2} to type of block above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::3} to type of block below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::4} to type of block right {blueportal.p2.loc}
			set {blueportal.p2.oldblo::5} to type of block behind {blueportal.p2.loc}
			set {blueportal.p2.oldblo::6} to type of block forward {blueportal.p2.loc}
			set {blueportal.p2.oldblo::7} to type of block 2 above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::8} to type of block 2 below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::9} to type of block north above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::10} to type of block north below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::11} to type of block south above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::12} to type of block south below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::13} to type of block west above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::14} to type of block west below {blueportal.p2.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block right targeted block to block of coal
			set block behind targeted block to light blue wool
			set block forward targeted block to light blue wool
			set block 2 above targeted block to light blue wool
			set block 2 below targeted block to light blue wool
			set block north above targeted block to light blue wool
			set block north below targeted block to light blue wool
			set block south above targeted block to light blue wool
			set block south below targeted block to light blue wool
			set block west above targeted block to block of coal
			set block west below targeted block to block of coal

			set {blueportal.p2.active} to 1
			set {p2.horizoblue.faci} to player's horizontal facing
			set {blueportal.direction.p2} to west
			stop
		else:
			stop

#
#	SOUTH
#

	if player's horizontal facing is south:
		if {portal.p1} is equal to player's name:
			name of player's held item is "&l&7 &l&1Portal &l&4Gun &l&7"
			set {p1.horizoblue.faci.check} to player's horizontal facing

			set {blueportal.p1.loc.check} to location at targeted block
			if distance between {blueportal.p1.loc.check} and {blueportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop
			if distance between {blueportal.p1.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop
			if distance between {blueportal.p1.loc.check} and {blueportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop
			if distance between {blueportal.p1.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p1.loc.check}
				stop

			if {blueportal.p1.active} is 1:
				if {p1.horizoblue.faci.check} is equal to {p1.horizoblue.faci}:
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				if {p1.horizoblue.faci.check} is not equal to {p1.horizoblue.faci}:
					{p1.horizoblue.faci} is north
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				if {p1.horizoblue.faci.check} is not equal to {p1.horizoblue.faci}:
					{p1.horizoblue.faci} is east
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block left {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block east above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block east below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				if {p1.horizoblue.faci.check} is not equal to {p1.horizoblue.faci}:
					{p1.horizoblue.faci} is west
					set block at {blueportal.p1.loc} to {blueportal.p1.oldblo::1}
					set block above {blueportal.p1.loc} to {blueportal.p1.oldblo::2}
					set block below {blueportal.p1.loc} to {blueportal.p1.oldblo::3}
					set block right {blueportal.p1.loc} to {blueportal.p1.oldblo::4}
					set block behind {blueportal.p1.loc} to {blueportal.p1.oldblo::5}
					set block forward {blueportal.p1.loc} to {blueportal.p1.oldblo::6}
					set block 2 above {blueportal.p1.loc} to {blueportal.p1.oldblo::7}
					set block 2 below {blueportal.p1.loc} to {blueportal.p1.oldblo::8}
					set block north above {blueportal.p1.loc} to {blueportal.p1.oldblo::9}
					set block north below {blueportal.p1.loc} to {blueportal.p1.oldblo::10}
					set block south above {blueportal.p1.loc} to {blueportal.p1.oldblo::11}
					set block south below {blueportal.p1.loc} to {blueportal.p1.oldblo::12}
					set block west above {blueportal.p1.loc} to {blueportal.p1.oldblo::13}
					set block west below {blueportal.p1.loc} to {blueportal.p1.oldblo::14}
				clear {blueportal.p1.loc}
				clear {blueportal.p1.active}
				clear {p1.horizoblue.faci.check}
				clear {p1.horizoblue.faci}
				clear {blueportal.p1.oldbloc::*}

			set {blueportal.p1.loc} to location at targeted block

			set {blueportal.p1.oldblo::1} to type of block at {blueportal.p1.loc}
			set {blueportal.p1.oldblo::2} to type of block above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::3} to type of block below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::4} to type of block forward {blueportal.p1.loc}
			set {blueportal.p1.oldblo::5} to type of block left {blueportal.p1.loc}
			set {blueportal.p1.oldblo::6} to type of block right {blueportal.p1.loc}
			set {blueportal.p1.oldblo::7} to type of block 2 above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::8} to type of block 2 below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::9} to type of block west above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::10} to type of block west below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::11} to type of block east above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::12} to type of block east below {blueportal.p1.loc}
			set {blueportal.p1.oldblo::13} to type of block south above {blueportal.p1.loc}
			set {blueportal.p1.oldblo::14} to type of block south below {blueportal.p1.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block forward targeted block to block of coal
			set block left targeted block to blue wool
			set block right targeted block to blue wool
			set block 2 above targeted block to blue wool
			set block 2 below targeted block to blue wool
			set block west above targeted block to blue wool
			set block west below targeted block to blue wool
			set block east above targeted block to blue wool
			set block east below targeted block to blue wool
			set block south above targeted block to block of coal
			set block south below targeted block to block of coal

			set {blueportal.p1.active} to 1
			set {p1.horizoblue.faci} to player's horizontal facing
			set {blueportal.direction.p1} to south
			stop

		if {portal.p2} is equal to player's name:
			name of player's held item is "&l&7 &l&3Portal &l&6Gun &l&7"
			set {p2.horizoblue.faci.check} to player's horizontal facing

			set {blueportal.p2.loc.check} to location at targeted block
			if distance between {blueportal.p2.loc.check} and {blueportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop
			if distance between {blueportal.p2.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop
			if distance between {blueportal.p2.loc.check} and {blueportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop
			if distance between {blueportal.p2.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {blueportal.p2.loc.check}
				stop

			if {blueportal.p2.active} is 1:
				if {p2.horizoblue.faci.check} is equal to {p2.horizoblue.faci}:
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				if {p2.horizoblue.faci.check} is not equal to {p2.horizoblue.faci}:
					{p2.horizoblue.faci} is north
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				if {p2.horizoblue.faci.check} is not equal to {p2.horizoblue.faci}:
					{p2.horizoblue.faci} is east
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block left {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block east above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block east below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				if {p2.horizoblue.faci.check} is not equal to {p2.horizoblue.faci}:
					{p2.horizoblue.faci} is west
					set block at {blueportal.p2.loc} to {blueportal.p2.oldblo::1}
					set block above {blueportal.p2.loc} to {blueportal.p2.oldblo::2}
					set block below {blueportal.p2.loc} to {blueportal.p2.oldblo::3}
					set block right {blueportal.p2.loc} to {blueportal.p2.oldblo::4}
					set block behind {blueportal.p2.loc} to {blueportal.p2.oldblo::5}
					set block forward {blueportal.p2.loc} to {blueportal.p2.oldblo::6}
					set block 2 above {blueportal.p2.loc} to {blueportal.p2.oldblo::7}
					set block 2 below {blueportal.p2.loc} to {blueportal.p2.oldblo::8}
					set block north above {blueportal.p2.loc} to {blueportal.p2.oldblo::9}
					set block north below {blueportal.p2.loc} to {blueportal.p2.oldblo::10}
					set block south above {blueportal.p2.loc} to {blueportal.p2.oldblo::11}
					set block south below {blueportal.p2.loc} to {blueportal.p2.oldblo::12}
					set block west above {blueportal.p2.loc} to {blueportal.p2.oldblo::13}
					set block west below {blueportal.p2.loc} to {blueportal.p2.oldblo::14}
				clear {blueportal.p2.loc}
				clear {blueportal.p2.active}
				clear {p2.horizoblue.faci.check}
				clear {p2.horizoblue.faci}
				clear {blueportal.p2.oldbloc::*}

			set {blueportal.p2.loc} to location at targeted block

			set {blueportal.p2.oldblo::1} to type of block at {blueportal.p2.loc}
			set {blueportal.p2.oldblo::2} to type of block above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::3} to type of block below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::4} to type of block forward {blueportal.p2.loc}
			set {blueportal.p2.oldblo::5} to type of block left {blueportal.p2.loc}
			set {blueportal.p2.oldblo::6} to type of block right {blueportal.p2.loc}
			set {blueportal.p2.oldblo::7} to type of block 2 above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::8} to type of block 2 below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::9} to type of block west above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::10} to type of block west below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::11} to type of block east above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::12} to type of block east below {blueportal.p2.loc}
			set {blueportal.p2.oldblo::13} to type of block south above {blueportal.p2.loc}
			set {blueportal.p2.oldblo::14} to type of block south below {blueportal.p2.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block forward targeted block to block of coal
			set block left targeted block to light blue wool
			set block right targeted block to light blue wool
			set block 2 above targeted block to light blue wool
			set block 2 below targeted block to light blue wool
			set block west above targeted block to light blue wool
			set block west below targeted block to light blue wool
			set block east above targeted block to light blue wool
			set block east below targeted block to light blue wool
			set block south above targeted block to block of coal
			set block south below targeted block to block of coal

			set {blueportal.p2.active} to 1
			set {p2.horizoblue.faci} to player's horizontal facing
			set {blueportal.direction.p2} to south
			stop
		else:
			stop

#
#		RED (Player 1) & ORANGE (Player 2) PORTAL
#

on right click with nether star:
	cancel event
	targeted block is not air

#
#		NORTH
#

	if player's horizontal facing is north:
		if {portal.p1} is equal to player's name:
			name of player's held item is "&l&7 &l&1Portal &l&4Gun &l&7"
			set {p1.horizored.faci.check} to player's horizontal facing

			set {redportal.p1.loc.check} to location at targeted block
			if distance between {redportal.p1.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop
			if distance between {redportal.p1.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop
			if distance between {redportal.p1.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop
			if distance between {redportal.p1.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop

			if {redportal.p1.active} is 1:
				if {p1.horizored.faci.check} is equal to {p1.horizored.faci}:
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block right {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block behind {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block east above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block east below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block west above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block west below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block north above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block north below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				if {p1.horizored.faci.check} is not equal to {p1.horizored.faci}:
					{p1.horizored.faci} is east
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block east above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block east below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				if {p1.horizored.faci.check} is not equal to {p1.horizored.faci}:
					{p1.horizored.faci} is west
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block right {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block west above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block west below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				if {p1.horizored.faci.check} is not equal to {p1.horizored.faci}:
					{p1.horizored.faci} is south
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block forward {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block left {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block right {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block west above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block west below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block east above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block east below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block south above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block south below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				clear {redportal.p1.loc}
				clear {redportal.p1.active}
				clear {p1.horizored.faci.check}
				clear {p1.horizored.faci}
				clear {redportal.p1.oldbloc::*}

			set {redportal.p1.loc} to location at targeted block

			set {redportal.p1.oldblo::1} to type of block at {redportal.p1.loc}
			set {redportal.p1.oldblo::2} to type of block above {redportal.p1.loc}
			set {redportal.p1.oldblo::3} to type of block below {redportal.p1.loc}
			set {redportal.p1.oldblo::4} to type of block left {redportal.p1.loc}
			set {redportal.p1.oldblo::5} to type of block right {redportal.p1.loc}
			set {redportal.p1.oldblo::6} to type of block behind {redportal.p1.loc}
			set {redportal.p1.oldblo::7} to type of block 2 above {redportal.p1.loc}
			set {redportal.p1.oldblo::8} to type of block 2 below {redportal.p1.loc}
			set {redportal.p1.oldblo::9} to type of block east above {redportal.p1.loc}
			set {redportal.p1.oldblo::10} to type of block east below {redportal.p1.loc}
			set {redportal.p1.oldblo::11} to type of block west above {redportal.p1.loc}
			set {redportal.p1.oldblo::12} to type of block west below {redportal.p1.loc}
			set {redportal.p1.oldblo::13} to type of block north above {redportal.p1.loc}
			set {redportal.p1.oldblo::14} to type of block north below {redportal.p1.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block left targeted block to red wool
			set block right targeted block to red wool
			set block behind targeted block to block of coal
			set block 2 above targeted block to red wool
			set block 2 below targeted block to red wool
			set block east above targeted block to red wool
			set block east below targeted block to red wool
			set block west above targeted block to red wool
			set block west below targeted block to red wool
			set block north above targeted block to block of coal
			set block north below targeted block to block of coal

			set {redportal.p1.active} to 1
			set {p1.horizored.faci} to player's horizontal facing
			set {redportal.direction.p1} to north
			stop	

		if {portal.p2} is equal to player's name:
			name of player's held item is "&l&7 &l&3Portal &l&6Gun &l&7"
			set {p2.horizored.faci.check} to player's horizontal facing

			set {redportal.p2.loc.check} to location at targeted block
			if distance between {redportal.p2.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop
			if distance between {redportal.p2.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop
			if distance between {redportal.p2.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop
			if distance between {redportal.p2.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop

			if {redportal.p2.active} is 1:
				if {p2.horizored.faci.check} is equal to {p2.horizored.faci}:
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block left {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block right {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block behind {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block east above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block east below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block west above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block west below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block north above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block north below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				if {p2.horizored.faci.check} is not equal to {p2.horizored.faci}:
					{p2.horizored.faci} is east
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block left {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block east above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block east below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				if {p2.horizored.faci.check} is not equal to {p2.horizored.faci}:
					{p2.horizored.faci} is west
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block right {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block west above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block west below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				if {p2.horizored.faci.check} is not equal to {p2.horizored.faci}:
					{p2.horizored.faci} is south
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block forward {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block left {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block right {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block west above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block west below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block east above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block east below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block south above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block south below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				clear {redportal.p2.loc}
				clear {redportal.p2.active}
				clear {p2.horizored.faci.check}
				clear {p2.horizored.faci}
				clear {redportal.p2.oldbloc::*}

			set {redportal.p2.loc} to location at targeted block

			set {redportal.p2.oldblo::1} to type of block at {redportal.p2.loc}
			set {redportal.p2.oldblo::2} to type of block above {redportal.p2.loc}
			set {redportal.p2.oldblo::3} to type of block below {redportal.p2.loc}
			set {redportal.p2.oldblo::4} to type of block left {redportal.p2.loc}
			set {redportal.p2.oldblo::5} to type of block right {redportal.p2.loc}
			set {redportal.p2.oldblo::6} to type of block behind {redportal.p2.loc}
			set {redportal.p2.oldblo::7} to type of block 2 above {redportal.p2.loc}
			set {redportal.p2.oldblo::8} to type of block 2 below {redportal.p2.loc}
			set {redportal.p2.oldblo::9} to type of block east above {redportal.p2.loc}
			set {redportal.p2.oldblo::10} to type of block east below {redportal.p2.loc}
			set {redportal.p2.oldblo::11} to type of block west above {redportal.p2.loc}
			set {redportal.p2.oldblo::12} to type of block west below {redportal.p2.loc}
			set {redportal.p2.oldblo::13} to type of block north above {redportal.p2.loc}
			set {redportal.p2.oldblo::14} to type of block north below {redportal.p2.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block left targeted block to orange wool
			set block right targeted block to orange wool
			set block behind targeted block to block of coal
			set block 2 above targeted block to orange wool
			set block 2 below targeted block to orange wool
			set block east above targeted block to orange wool
			set block east below targeted block to orange wool
			set block west above targeted block to orange wool
			set block west below targeted block to orange wool
			set block north above targeted block to block of coal
			set block north below targeted block to block of coal

			set {redportal.p2.active} to 1
			set {p2.horizored.faci} to player's horizontal facing
			set {redportal.direction.p2} to north
			stop	

#
# 	EAST
#		

	if player's horizontal facing is east:
		if {portal.p1} is equal to player's name:
			name of player's held item is "&l&7 &l&1Portal &l&4Gun &l&7"
			set {p1.horizored.faci.check} to player's horizontal facing

			set {redportal.p1.loc.check} to location at targeted block
			if distance between {redportal.p1.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop
			if distance between {redportal.p1.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop
			if distance between {redportal.p1.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop
			if distance between {redportal.p1.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop
			if distance between {redportal.p1.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop

			if {redportal.p1.active} is 1:
				if {p1.horizored.faci.check} is equal to {p1.horizored.faci}:
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block east above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block east below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				if {p1.horizored.faci.check} is not equal to {p1.horizored.faci}:
					{p1.horizored.faci} is north
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block right {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block behind {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block east above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block east below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block west above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block west below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block north above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block north below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				if {p1.horizored.faci.check} is not equal to {p1.horizored.faci}:
					{p1.horizored.faci} is west
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block right {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block west above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block west below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				if {p1.horizored.faci.check} is not equal to {p1.horizored.faci}:
					{p1.horizored.faci} is south
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block forward {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block left {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block right {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block west above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block west below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block east above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block east below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block south above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block south below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				clear {redportal.p1.loc}
				clear {redportal.p1.active}
				clear {p1.horizored.faci.check}
				clear {p1.horizored.faci}
				clear {redportal.p1.oldbloc::*}

			set {redportal.p1.loc} to location at targeted block

			set {redportal.p1.oldblo::1} to type of block at {redportal.p1.loc}
			set {redportal.p1.oldblo::2} to type of block above {redportal.p1.loc}
			set {redportal.p1.oldblo::3} to type of block below {redportal.p1.loc}
			set {redportal.p1.oldblo::4} to type of block left {redportal.p1.loc}
			set {redportal.p1.oldblo::5} to type of block behind {redportal.p1.loc}
			set {redportal.p1.oldblo::6} to type of block forward {redportal.p1.loc}
			set {redportal.p1.oldblo::7} to type of block 2 above {redportal.p1.loc}
			set {redportal.p1.oldblo::8} to type of block 2 below {redportal.p1.loc}
			set {redportal.p1.oldblo::9} to type of block north above {redportal.p1.loc}
			set {redportal.p1.oldblo::10} to type of block north below {redportal.p1.loc}
			set {redportal.p1.oldblo::11} to type of block south above {redportal.p1.loc}
			set {redportal.p1.oldblo::12} to type of block south below {redportal.p1.loc}
			set {redportal.p1.oldblo::13} to type of block east above {redportal.p1.loc}
			set {redportal.p1.oldblo::14} to type of block east below {redportal.p1.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block left targeted block to block of coal
			set block behind targeted block to red wool
			set block forward targeted block to red wool
			set block 2 above targeted block to red wool
			set block 2 below targeted block to red wool
			set block north above targeted block to red wool
			set block north below targeted block to red wool
			set block south above targeted block to red wool
			set block south below targeted block to red wool
			set block east above targeted block to block of coal
			set block east below targeted block to block of coal

			set {redportal.p1.active} to 1
			set {p1.horizored.faci} to player's horizontal facing
			set {redportal.direction.p1} to east
			stop	

		if {portal.p2} is equal to player's name:
			name of player's held item is "&l&7 &l&3Portal &l&6Gun &l&7"
			set {p2.horizored.faci.check} to player's horizontal facing

			set {redportal.p2.loc.check} to location at targeted block
			if distance between {redportal.p2.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop
			if distance between {redportal.p2.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop
			if distance between {redportal.p2.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop
			if distance between {redportal.p2.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop

			if {redportal.p2.active} is 1:
				if {p2.horizored.faci.check} is equal to {p2.horizored.faci}:
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block left {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block east above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block east below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				if {p2.horizored.faci.check} is not equal to {p2.horizored.faci}:
					{p2.horizored.faci} is north
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block left {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block right {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block behind {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block east above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block east below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block west above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block west below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block north above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block north below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				if {p2.horizored.faci.check} is not equal to {p2.horizored.faci}:
					{p2.horizored.faci} is west
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block right {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block west above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block west below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				if {p2.horizored.faci.check} is not equal to {p2.horizored.faci}:
					{p2.horizored.faci} is south
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block forward {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block left {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block right {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block west above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block west below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block east above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block east below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block south above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block south below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				clear {redportal.p2.loc}
				clear {redportal.p2.active}
				clear {p2.horizored.faci.check}
				clear {p2.horizored.faci}
				clear {redportal.p2.oldbloc::*}

			set {redportal.p2.loc} to location at targeted block

			set {redportal.p2.oldblo::1} to type of block at {redportal.p2.loc}
			set {redportal.p2.oldblo::2} to type of block above {redportal.p2.loc}
			set {redportal.p2.oldblo::3} to type of block below {redportal.p2.loc}
			set {redportal.p2.oldblo::4} to type of block left {redportal.p2.loc}
			set {redportal.p2.oldblo::5} to type of block behind {redportal.p2.loc}
			set {redportal.p2.oldblo::6} to type of block forward {redportal.p2.loc}
			set {redportal.p2.oldblo::7} to type of block 2 above {redportal.p2.loc}
			set {redportal.p2.oldblo::8} to type of block 2 below {redportal.p2.loc}
			set {redportal.p2.oldblo::9} to type of block north above {redportal.p2.loc}
			set {redportal.p2.oldblo::10} to type of block north below {redportal.p2.loc}
			set {redportal.p2.oldblo::11} to type of block south above {redportal.p2.loc}
			set {redportal.p2.oldblo::12} to type of block south below {redportal.p2.loc}
			set {redportal.p2.oldblo::13} to type of block east above {redportal.p2.loc}
			set {redportal.p2.oldblo::14} to type of block east below {redportal.p2.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block left targeted block to block of coal
			set block behind targeted block to orange wool
			set block forward targeted block to orange wool
			set block 2 above targeted block to orange wool
			set block 2 below targeted block to orange wool
			set block north above targeted block to orange wool
			set block north below targeted block to orange wool
			set block south above targeted block to orange wool
			set block south below targeted block to orange wool
			set block east above targeted block to block of coal
			set block east below targeted block to block of coal

			set {redportal.p2.active} to 1
			set {p2.horizored.faci} to player's horizontal facing
			set {redportal.direction.p2} to east
			stop
		else:
			stop

#
#	WEST
#

	if player's horizontal facing is west:
		if {portal.p1} is equal to player's name:
			name of player's held item is "&l&7 &l&1Portal &l&4Gun &l&7"
			set {p1.horizored.faci.check} to player's horizontal facing

			set {redportal.p1.loc.check} to location at targeted block
			if distance between {redportal.p1.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop
			if distance between {redportal.p1.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop
			if distance between {redportal.p1.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop
			if distance between {redportal.p1.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop

			if {redportal.p1.active} is 1:
				if {p1.horizored.faci.check} is equal to {p1.horizored.faci}:
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block right {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block west above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block west below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				if {p1.horizored.faci.check} is not equal to {p1.horizored.faci}:
					{p1.horizored.faci} is north
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block right {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block behind {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block east above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block east below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block west above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block west below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block north above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block north below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				if {p1.horizored.faci.check} is not equal to {p1.horizored.faci}:
					{p1.horizored.faci} is east
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block east above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block east below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				if {p1.horizored.faci.check} is not equal to {p1.horizored.faci}:
					{p1.horizored.faci} is south
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block forward {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block left {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block right {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block west above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block west below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block east above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block east below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block south above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block south below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				clear {redportal.p1.loc}
				clear {redportal.p1.active}
				clear {p1.horizored.faci.check}
				clear {p1.horizored.faci}
				clear {redportal.p1.oldbloc::*}

			set {redportal.p1.loc} to location at targeted block

			set {redportal.p1.oldblo::1} to type of block at {redportal.p1.loc}
			set {redportal.p1.oldblo::2} to type of block above {redportal.p1.loc}
			set {redportal.p1.oldblo::3} to type of block below {redportal.p1.loc}
			set {redportal.p1.oldblo::4} to type of block right {redportal.p1.loc}
			set {redportal.p1.oldblo::5} to type of block behind {redportal.p1.loc}
			set {redportal.p1.oldblo::6} to type of block forward {redportal.p1.loc}
			set {redportal.p1.oldblo::7} to type of block 2 above {redportal.p1.loc}
			set {redportal.p1.oldblo::8} to type of block 2 below {redportal.p1.loc}
			set {redportal.p1.oldblo::9} to type of block north above {redportal.p1.loc}
			set {redportal.p1.oldblo::10} to type of block north below {redportal.p1.loc}
			set {redportal.p1.oldblo::11} to type of block south above {redportal.p1.loc}
			set {redportal.p1.oldblo::12} to type of block south below {redportal.p1.loc}
			set {redportal.p1.oldblo::13} to type of block west above {redportal.p1.loc}
			set {redportal.p1.oldblo::14} to type of block west below {redportal.p1.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block right targeted block to block of coal
			set block behind targeted block to red wool
			set block forward targeted block to red wool
			set block 2 above targeted block to red wool
			set block 2 below targeted block to red wool
			set block north above targeted block to red wool
			set block north below targeted block to red wool
			set block south above targeted block to red wool
			set block south below targeted block to red wool
			set block west above targeted block to block of coal
			set block west below targeted block to block of coal

			set {redportal.p1.active} to 1
			set {p1.horizored.faci} to player's horizontal facing
			set {redportal.direction.p1} to west
			stop

		if {portal.p2} is equal to player's name:
			name of player's held item is "&l&7 &l&3Portal &l&6Gun &l&7"
			set {p2.horizored.faci.check} to player's horizontal facing

			set {redportal.p2.loc.check} to location at targeted block
			if distance between {redportal.p2.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop
			if distance between {redportal.p2.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop
			if distance between {redportal.p2.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop
			if distance between {redportal.p2.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop

			if {redportal.p2.active} is 1:
				if {p2.horizored.faci.check} is equal to {p2.horizored.faci}:
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block right {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block west above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block west below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				if {p2.horizored.faci.check} is not equal to {p2.horizored.faci}:
					{p2.horizored.faci} is north
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block left {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block right {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block behind {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block east above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block east below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block west above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block west below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block north above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block north below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				if {p2.horizored.faci.check} is not equal to {p2.horizored.faci}:
					{p2.horizored.faci} is east
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block right {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block west above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block west below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				if {p2.horizored.faci.check} is not equal to {p2.horizored.faci}:
					{p2.horizored.faci} is south
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block forward {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block left {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block right {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block west above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block west below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block east above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block east below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block south above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block south below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				clear {redportal.p2.loc}
				clear {redportal.p2.active}
				clear {p2.horizored.faci.check}
				clear {p2.horizored.faci}
				clear {redportal.p2.oldbloc::*}

			set {redportal.p2.loc} to location at targeted block

			set {redportal.p2.oldblo::1} to type of block at {redportal.p2.loc}
			set {redportal.p2.oldblo::2} to type of block above {redportal.p2.loc}
			set {redportal.p2.oldblo::3} to type of block below {redportal.p2.loc}
			set {redportal.p2.oldblo::4} to type of block right {redportal.p2.loc}
			set {redportal.p2.oldblo::5} to type of block behind {redportal.p2.loc}
			set {redportal.p2.oldblo::6} to type of block forward {redportal.p2.loc}
			set {redportal.p2.oldblo::7} to type of block 2 above {redportal.p2.loc}
			set {redportal.p2.oldblo::8} to type of block 2 below {redportal.p2.loc}
			set {redportal.p2.oldblo::9} to type of block north above {redportal.p2.loc}
			set {redportal.p2.oldblo::10} to type of block north below {redportal.p2.loc}
			set {redportal.p2.oldblo::11} to type of block south above {redportal.p2.loc}
			set {redportal.p2.oldblo::12} to type of block south below {redportal.p2.loc}
			set {redportal.p2.oldblo::13} to type of block west above {redportal.p2.loc}
			set {redportal.p2.oldblo::14} to type of block west below {redportal.p2.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block right targeted block to block of coal
			set block behind targeted block to orange wool
			set block forward targeted block to orange wool
			set block 2 above targeted block to orange wool
			set block 2 below targeted block to orange wool
			set block north above targeted block to orange wool
			set block north below targeted block to orange wool
			set block south above targeted block to orange wool
			set block south below targeted block to orange wool
			set block west above targeted block to block of coal
			set block west below targeted block to block of coal

			set {redportal.p2.active} to 1
			set {p2.horizored.faci} to player's horizontal facing
			set {redportal.direction.p2} to west
			stop
		else:
			stop

#
#	SOUTH
#

	if player's horizontal facing is south:
		if {portal.p1} is equal to player's name:
			name of player's held item is "&l&7 &l&1Portal &l&4Gun &l&7"
			set {p1.horizored.faci.check} to player's horizontal facing

			set {redportal.p1.loc.check} to location at targeted block
			if distance between {redportal.p1.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop
			if distance between {redportal.p1.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop
			if distance between {redportal.p1.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop
			if distance between {redportal.p1.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p1.loc.check}
				stop

			if {redportal.p1.active} is 1:
				if {p1.horizored.faci.check} is equal to {p1.horizored.faci}:
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block forward {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block left {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block right {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block west above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block west below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block east above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block east below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block south above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block south below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				if {p1.horizored.faci.check} is not equal to {p1.horizored.faci}:
					{p1.horizored.faci} is north
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block right {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block behind {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block east above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block east below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block west above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block west below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block north above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block north below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				if {p1.horizored.faci.check} is not equal to {p1.horizored.faci}:
					{p1.horizored.faci} is east
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block left {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block east above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block east below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				if {p1.horizored.faci.check} is not equal to {p1.horizored.faci}:
					{p1.horizored.faci} is west
					set block at {redportal.p1.loc} to {redportal.p1.oldblo::1}
					set block above {redportal.p1.loc} to {redportal.p1.oldblo::2}
					set block below {redportal.p1.loc} to {redportal.p1.oldblo::3}
					set block right {redportal.p1.loc} to {redportal.p1.oldblo::4}
					set block behind {redportal.p1.loc} to {redportal.p1.oldblo::5}
					set block forward {redportal.p1.loc} to {redportal.p1.oldblo::6}
					set block 2 above {redportal.p1.loc} to {redportal.p1.oldblo::7}
					set block 2 below {redportal.p1.loc} to {redportal.p1.oldblo::8}
					set block north above {redportal.p1.loc} to {redportal.p1.oldblo::9}
					set block north below {redportal.p1.loc} to {redportal.p1.oldblo::10}
					set block south above {redportal.p1.loc} to {redportal.p1.oldblo::11}
					set block south below {redportal.p1.loc} to {redportal.p1.oldblo::12}
					set block west above {redportal.p1.loc} to {redportal.p1.oldblo::13}
					set block west below {redportal.p1.loc} to {redportal.p1.oldblo::14}
				clear {redportal.p1.loc}
				clear {redportal.p1.active}
				clear {p1.horizored.faci.check}
				clear {p1.horizored.faci}
				clear {redportal.p1.oldbloc::*}

			set {redportal.p1.loc} to location at targeted block

			set {redportal.p1.oldblo::1} to type of block at {redportal.p1.loc}
			set {redportal.p1.oldblo::2} to type of block above {redportal.p1.loc}
			set {redportal.p1.oldblo::3} to type of block below {redportal.p1.loc}
			set {redportal.p1.oldblo::4} to type of block forward {redportal.p1.loc}
			set {redportal.p1.oldblo::5} to type of block left {redportal.p1.loc}
			set {redportal.p1.oldblo::6} to type of block right {redportal.p1.loc}
			set {redportal.p1.oldblo::7} to type of block 2 above {redportal.p1.loc}
			set {redportal.p1.oldblo::8} to type of block 2 below {redportal.p1.loc}
			set {redportal.p1.oldblo::9} to type of block west above {redportal.p1.loc}
			set {redportal.p1.oldblo::10} to type of block west below {redportal.p1.loc}
			set {redportal.p1.oldblo::11} to type of block east above {redportal.p1.loc}
			set {redportal.p1.oldblo::12} to type of block east below {redportal.p1.loc}
			set {redportal.p1.oldblo::13} to type of block south above {redportal.p1.loc}
			set {redportal.p1.oldblo::14} to type of block south below {redportal.p1.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block forward targeted block to block of coal
			set block left targeted block to red wool
			set block right targeted block to red wool
			set block 2 above targeted block to red wool
			set block 2 below targeted block to red wool
			set block west above targeted block to red wool
			set block west below targeted block to red wool
			set block east above targeted block to red wool
			set block east below targeted block to red wool
			set block south above targeted block to block of coal
			set block south below targeted block to block of coal

			set {redportal.p1.active} to 1
			set {p1.horizored.faci} to player's horizontal facing
			set {redportal.direction.p1} to south
			stop

		if {portal.p2} is equal to player's name:
			name of player's held item is "&l&7 &l&3Portal &l&6Gun &l&7"
			set {p2.horizored.faci.check} to player's horizontal facing

			set {redportal.p2.loc.check} to location at targeted block
			if distance between {redportal.p2.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop
			if distance between {redportal.p2.loc.check} and {redportal.p2.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop
			if distance between {redportal.p2.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop
			if distance between {redportal.p2.loc.check} and {redportal.p1.loc} is smaller than 4:
				message "&4The distance between the two portals is too close!!"
				clear {redportal.p2.loc.check}
				stop

			if {redportal.p2.active} is 1:
				if {p2.horizored.faci.check} is equal to {p2.horizored.faci}:
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block forward {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block left {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block right {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block west above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block west below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block east above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block east below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block south above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block south below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				if {p2.horizored.faci.check} is not equal to {p2.horizored.faci}:
					{p2.horizored.faci} is north
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block left {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block right {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block behind {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block east above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block east below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block west above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block west below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block north above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block north below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				if {p2.horizored.faci.check} is not equal to {p2.horizored.faci}:
					{p2.horizored.faci} is east
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block left {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block east above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block east below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				if {p2.horizored.faci.check} is not equal to {p2.horizored.faci}:
					{p2.horizored.faci} is west
					set block at {redportal.p2.loc} to {redportal.p2.oldblo::1}
					set block above {redportal.p2.loc} to {redportal.p2.oldblo::2}
					set block below {redportal.p2.loc} to {redportal.p2.oldblo::3}
					set block right {redportal.p2.loc} to {redportal.p2.oldblo::4}
					set block behind {redportal.p2.loc} to {redportal.p2.oldblo::5}
					set block forward {redportal.p2.loc} to {redportal.p2.oldblo::6}
					set block 2 above {redportal.p2.loc} to {redportal.p2.oldblo::7}
					set block 2 below {redportal.p2.loc} to {redportal.p2.oldblo::8}
					set block north above {redportal.p2.loc} to {redportal.p2.oldblo::9}
					set block north below {redportal.p2.loc} to {redportal.p2.oldblo::10}
					set block south above {redportal.p2.loc} to {redportal.p2.oldblo::11}
					set block south below {redportal.p2.loc} to {redportal.p2.oldblo::12}
					set block west above {redportal.p2.loc} to {redportal.p2.oldblo::13}
					set block west below {redportal.p2.loc} to {redportal.p2.oldblo::14}
				clear {redportal.p2.loc}
				clear {redportal.p2.active}
				clear {p2.horizored.faci.check}
				clear {p2.horizored.faci}
				clear {redportal.p2.oldbloc::*}

			set {redportal.p2.loc} to location at targeted block

			set {redportal.p2.oldblo::1} to type of block at {redportal.p2.loc}
			set {redportal.p2.oldblo::2} to type of block above {redportal.p2.loc}
			set {redportal.p2.oldblo::3} to type of block below {redportal.p2.loc}
			set {redportal.p2.oldblo::4} to type of block forward {redportal.p2.loc}
			set {redportal.p2.oldblo::5} to type of block left {redportal.p2.loc}
			set {redportal.p2.oldblo::6} to type of block right {redportal.p2.loc}
			set {redportal.p2.oldblo::7} to type of block 2 above {redportal.p2.loc}
			set {redportal.p2.oldblo::8} to type of block 2 below {redportal.p2.loc}
			set {redportal.p2.oldblo::9} to type of block west above {redportal.p2.loc}
			set {redportal.p2.oldblo::10} to type of block west below {redportal.p2.loc}
			set {redportal.p2.oldblo::11} to type of block east above {redportal.p2.loc}
			set {redportal.p2.oldblo::12} to type of block east below {redportal.p2.loc}
			set {redportal.p2.oldblo::13} to type of block south above {redportal.p2.loc}
			set {redportal.p2.oldblo::14} to type of block south below {redportal.p2.loc}

			execute console command "/playsound liquid.lavapop %player%"

			set targeted block to air
			set block above targeted block to air
			set block below targeted block to air
			set block forward targeted block to block of coal
			set block left targeted block to orange wool
			set block right targeted block to orange wool
			set block 2 above targeted block to orange wool
			set block 2 below targeted block to orange wool
			set block west above targeted block to orange wool
			set block west below targeted block to orange wool
			set block east above targeted block to orange wool
			set block east below targeted block to orange wool
			set block south above targeted block to block of coal
			set block south below targeted block to block of coal

			set {redportal.p2.active} to 1
			set {p2.horizored.faci} to player's horizontal facing
			set {redportal.direction.p2} to south
			stop
		else:
			stop

every tick:
	loop all players:
		if distance between loop-player and {blueportal.p1.loc} is smaller than 2:
			if {redportal.p1.loc} is not set:
				stop
			if loop-player is {portal.p1}:
				if {redportal.direction.p1} is north: 
					
					set {p1.x.redportal} to rounded down the x coord of block 2 forward {redportal.p1.loc}
					set {p1.y.redportal} to rounded down the y coord of block 2 forward {redportal.p1.loc}
					set {p1.z.redportal} to rounded down the z coord of block 2 forward {redportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.redportal}% %{p1.y.redportal}% %{p1.z.redportal}% 0 0"
					push loop-player forwards at speed 0.2
					stop

				if {redportal.direction.p1} is east: 
								
					set {p1.x.redportal} to rounded down the x coord of block 2 right {redportal.p1.loc}
					set {p1.y.redportal} to rounded down the y coord of block 2 right {redportal.p1.loc}
					set {p1.z.redportal} to rounded down the z coord of block 2 right {redportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.redportal}% %{p1.y.redportal}% %{p1.z.redportal}% 0 90"
					push loop-player forwards at speed 0.2
					stop

				if {redportal.direction.p1} is west: 

					set {p1.x.redportal} to rounded down the x coord of block 2 left {redportal.p1.loc}
					set {p1.y.redportal} to rounded down the y coord of block 2 left {redportal.p1.loc}
					set {p1.z.redportal} to rounded down the z coord of block 2 left {redportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.redportal}% %{p1.y.redportal}% %{p1.z.redportal}% 0 -90"
					push loop-player forwards at speed 0.2
					stop

				if {redportal.direction.p1} is south: 
					
					set {p1.x.redportal} to rounded down the x coord of block 2 behind {redportal.p1.loc}
					set {p1.y.redportal} to rounded down the y coord of block 2 behind {redportal.p1.loc}
					set {p1.z.redportal} to rounded down the z coord of block 2 behind {redportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.redportal}% %{p1.y.redportal}% %{p1.z.redportal}% 0 180"
					push loop-player forwards at speed 0.2
					stop

			if loop-player is {portal.p2}:
				if {redportal.direction.p1} is north: 
					
					set {p1.x.redportal} to rounded down the x coord of block 2 forward {redportal.p1.loc}
					set {p1.y.redportal} to rounded down the y coord of block 2 forward {redportal.p1.loc}
					set {p1.z.redportal} to rounded down the z coord of block 2 forward {redportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.redportal}% %{p1.y.redportal}% %{p1.z.redportal}% 0 0"
					push loop-player forwards at speed 0.2
					stop

				if {redportal.direction.p1} is east: 
							
					set {p1.x.redportal} to rounded down the x coord of block 2 right {redportal.p1.loc}
					set {p1.y.redportal} to rounded down the y coord of block 2 right {redportal.p1.loc}
					set {p1.z.redportal} to rounded down the z coord of block 2 right {redportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.redportal}% %{p1.y.redportal}% %{p1.z.redportal}% 0 90"
					push loop-player forwards at speed 0.2
					stop

				if {redportal.direction.p1} is west: 
				
					set {p1.x.redportal} to rounded down the x coord of block 2 left {redportal.p1.loc}
					set {p1.y.redportal} to rounded down the y coord of block 2 left {redportal.p1.loc}
					set {p1.z.redportal} to rounded down the z coord of block 2 left {redportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.redportal}% %{p1.y.redportal}% %{p1.z.redportal}% 0 -90"
					push loop-player forwards at speed 0.2
					stop

				if {redportal.direction.p1} is south: 
					
					set {p1.x.redportal} to rounded down the x coord of block 2 behind {redportal.p1.loc}
					set {p1.y.redportal} to rounded down the y coord of block 2 behind {redportal.p1.loc}
					set {p1.z.redportal} to rounded down the z coord of block 2 behind {redportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.redportal}% %{p1.y.redportal}% %{p1.z.redportal}% 0 180"
					push loop-player forwards at speed 0.2
					stop

		if distance between loop-player and {redportal.p1.loc} is smaller than 2:
			if {blueportal.p1.loc} is not set:
				stop
			if loop-player is {portal.p1}:
				if {blueportal.direction.p1} is north: 

					set {p1.x.blueportal} to rounded down the x coord of block 2 forward {blueportal.p1.loc}
					set {p1.y.blueportal} to rounded down the y coord of block 2 forward {blueportal.p1.loc}
					set {p1.z.blueportal} to rounded down the z coord of block 2 forward {blueportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.blueportal}% %{p1.y.blueportal}% %{p1.z.blueportal}% 0 0"
					push loop-player forwards at speed 0.2
					stop

				if {blueportal.direction.p1} is east:

					set {p1.x.blueportal} to rounded down the x coord of block 2 right {blueportal.p1.loc}
					set {p1.y.blueportal} to rounded down the y coord of block 2 right {blueportal.p1.loc}
					set {p1.z.blueportal} to rounded down the z coord of block 2 right {blueportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.blueportal}% %{p1.y.blueportal}% %{p1.z.blueportal}% 0 90"
					push loop-player forwards at speed 0.2
					stop

				if {blueportal.direction.p1} is west:

					set {p1.x.blueportal} to rounded down the x coord of block 2 left {blueportal.p1.loc}
					set {p1.y.blueportal} to rounded down the y coord of block 2 left {blueportal.p1.loc}
					set {p1.z.blueportal} to rounded down the z coord of block 2 left {blueportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.blueportal}% %{p1.y.blueportal}% %{p1.z.blueportal}% 0 -90"
					push loop-player forwards at speed 0.2
					stop

				if {blueportal.direction.p1} is south:

					set {p1.x.blueportal} to rounded down the x coord of block 2 behind {blueportal.p1.loc}
					set {p1.y.blueportal} to rounded down the y coord of block 2 behind {blueportal.p1.loc}
					set {p1.z.blueportal} to rounded down the z coord of block 2 behind {blueportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.blueportal}% %{p1.y.blueportal}% %{p1.z.blueportal}% 0 180"
					push loop-player forwards at speed 0.2
					stop

			if loop-player is {portal.p2}:
				if {blueportal.direction.p1} is north: 

					set {p1.x.blueportal} to rounded down the x coord of block 2 forward {blueportal.p1.loc}
					set {p1.y.blueportal} to rounded down the y coord of block 2 forward {blueportal.p1.loc}
					set {p1.z.blueportal} to rounded down the z coord of block 2 forward {blueportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.blueportal}% %{p1.y.blueportal}% %{p1.z.blueportal}% 0 0"
					push loop-player forwards at speed 0.2
					stop

				if {blueportal.direction.p1} is east:

					set {p1.x.blueportal} to rounded down the x coord of block 2 right {blueportal.p1.loc}
					set {p1.y.blueportal} to rounded down the y coord of block 2 right {blueportal.p1.loc}
					set {p1.z.blueportal} to rounded down the z coord of block 2 right {blueportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.blueportal}% %{p1.y.blueportal}% %{p1.z.blueportal}% 0 90"
					push loop-player forwards at speed 0.2
					stop

				if {blueportal.direction.p1} is west:

					set {p1.x.blueportal} to rounded down the x coord of block 2 left {blueportal.p1.loc}
					set {p1.y.blueportal} to rounded down the y coord of block 2 left {blueportal.p1.loc}
					set {p1.z.blueportal} to rounded down the z coord of block 2 left {blueportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.blueportal}% %{p1.y.blueportal}% %{p1.z.blueportal}% 0 -90"
					push loop-player forwards at speed 0.2
					stop

				if {blueportal.direction.p1} is south:

					set {p1.x.blueportal} to rounded down the x coord of block 2 behind {blueportal.p1.loc}
					set {p1.y.blueportal} to rounded down the y coord of block 2 behind {blueportal.p1.loc}
					set {p1.z.blueportal} to rounded down the z coord of block 2 behind {blueportal.p1.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p1.x.blueportal}% %{p1.y.blueportal}% %{p1.z.blueportal}% 0 180"
					push loop-player forwards at speed 0.2
					stop

		if distance between loop-player and {blueportal.p2.loc} is smaller than 2:
			if {redportal.p2.loc} is not set:
				stop
			if loop-player is {portal.p2}:
				if {redportal.direction.p2} is north: 
				
					set {p2.x.redportal} to rounded down the x coord of block 2 forward {redportal.p2.loc}
					set {p2.y.redportal} to rounded down the y coord of block 2 forward {redportal.p2.loc}
					set {p2.z.redportal} to rounded down the z coord of block 2 forward {redportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.redportal}% %{p2.y.redportal}% %{p2.z.redportal}% 0 0"
					push loop-player forwards at speed 0.2
					stop

				if {redportal.direction.p2} is east: 
				
					set {p2.x.redportal} to rounded down the x coord of block 2 right {redportal.p2.loc}
					set {p2.y.redportal} to rounded down the y coord of block 2 right {redportal.p2.loc}
					set {p2.z.redportal} to rounded down the z coord of block 2 right {redportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.redportal}% %{p2.y.redportal}% %{p2.z.redportal}% 0 90"
					push loop-player forwards at speed 0.2
					stop

				if {redportal.direction.p2} is west: 
			
					set {p2.x.redportal} to rounded down the x coord of block 2 left {redportal.p2.loc}
					set {p2.y.redportal} to rounded down the y coord of block 2 left {redportal.p2.loc}
					set {p2.z.redportal} to rounded down the z coord of block 2 left {redportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.redportal}% %{p2.y.redportal}% %{p2.z.redportal}% 0 -90"
					push loop-player forwards at speed 0.2
					stop

				if {redportal.direction.p2} is south: 
					
					set {p2.x.redportal} to rounded down the x coord of block 2 behind {redportal.p2.loc}
					set {p2.y.redportal} to rounded down the y coord of block 2 behind {redportal.p2.loc}
					set {p2.z.redportal} to rounded down the z coord of block 2 behind {redportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.redportal}% %{p2.y.redportal}% %{p2.z.redportal}% 0 180"
					push loop-player forwards at speed 0.2
					stop

			if loop-player is {portal.p1}:
				if {redportal.direction.p2} is north: 
					
					set {p2.x.redportal} to rounded down the x coord of block 2 forward {redportal.p2.loc}
					set {p2.y.redportal} to rounded down the y coord of block 2 forward {redportal.p2.loc}
					set {p2.z.redportal} to rounded down the z coord of block 2 forward {redportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.redportal}% %{p2.y.redportal}% %{p2.z.redportal}% 0 0"
					push loop-player forwards at speed 0.2
					stop

				if {redportal.direction.p2} is east: 
					
					set {p2.x.redportal} to rounded down the x coord of block 2 right {redportal.p2.loc}
					set {p2.y.redportal} to rounded down the y coord of block 2 right {redportal.p2.loc}
					set {p2.z.redportal} to rounded down the z coord of block 2 right {redportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.redportal}% %{p2.y.redportal}% %{p2.z.redportal}% 0 90"
					push loop-player forwards at speed 0.2
					stop

				if {redportal.direction.p2} is west: 
				
					set {p2.x.redportal} to rounded down the x coord of block 2 left {redportal.p2.loc}
					set {p2.y.redportal} to rounded down the y coord of block 2 left {redportal.p2.loc}
					set {p2.z.redportal} to rounded down the z coord of block 2 left {redportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.redportal}% %{p2.y.redportal}% %{p2.z.redportal}% 0 -90"
					push loop-player forwards at speed 0.2
					stop

				if {redportal.direction.p2} is south: 
					
					set {p2.x.redportal} to rounded down the x coord of block 2 behind {redportal.p2.loc}
					set {p2.y.redportal} to rounded down the y coord of block 2 behind {redportal.p2.loc}
					set {p2.z.redportal} to rounded down the z coord of block 2 behind {redportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.redportal}% %{p2.y.redportal}% %{p2.z.redportal}% 0 180"
					push loop-player forwards at speed 0.2
					stop

		if distance between loop-player and {redportal.p2.loc} is smaller than 2:
			if {blueportal.p2.loc} is not set:
				stop
			if loop-player is {portal.p2}:
				if {blueportal.direction.p2} is north: 

					set {p2.x.blueportal} to rounded down the x coord of block 2 forward {blueportal.p2.loc}
					set {p2.y.blueportal} to rounded down the y coord of block 2 forward {blueportal.p2.loc}
					set {p2.z.blueportal} to rounded down the z coord of block 2 forward {blueportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.blueportal}% %{p2.y.blueportal}% %{p2.z.blueportal}% 0 0"
					push loop-player forwards at speed 0.2
					stop

				if {blueportal.direction.p2} is east:

					set {p2.x.blueportal} to rounded down the x coord of block 2 right {blueportal.p2.loc}
					set {p2.y.blueportal} to rounded down the y coord of block 2 right {blueportal.p2.loc}
					set {p2.z.blueportal} to rounded down the z coord of block 2 right {blueportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.blueportal}% %{p2.y.blueportal}% %{p2.z.blueportal}% 0 90"
					push loop-player forwards at speed 0.2
					stop

				if {blueportal.direction.p2} is west:

					set {p2.x.blueportal} to rounded down the x coord of block 2 left {blueportal.p2.loc}
					set {p2.y.blueportal} to rounded down the y coord of block 2 left {blueportal.p2.loc}
					set {p2.z.blueportal} to rounded down the z coord of block 2 left {blueportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.blueportal}% %{p2.y.blueportal}% %{p2.z.blueportal}% 0 -90"
					push loop-player forwards at speed 0.2
					stop

				if {blueportal.direction.p2} is south:

					set {p2.x.blueportal} to rounded down the x coord of block 2 behind {blueportal.p2.loc}
					set {p2.y.blueportal} to rounded down the y coord of block 2 behind {blueportal.p2.loc}
					set {p2.z.blueportal} to rounded down the z coord of block 2 behind {blueportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.blueportal}% %{p2.y.blueportal}% %{p2.z.blueportal}% 0 180"
					push loop-player forwards at speed 0.2
					stop

			if loop-player is {portal.p1}:
				if {blueportal.direction.p2} is north: 

					set {p2.x.blueportal} to rounded down the x coord of block 2 forward {blueportal.p2.loc}
					set {p2.y.blueportal} to rounded down the y coord of block 2 forward {blueportal.p2.loc}
					set {p2.z.blueportal} to rounded down the z coord of block 2 forward {blueportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.blueportal}% %{p2.y.blueportal}% %{p2.z.blueportal}% 0 0"
					push loop-player forwards at speed 0.2
					stop

				if {blueportal.direction.p2} is east:

					set {p2.x.blueportal} to rounded down the x coord of block 2 right {blueportal.p2.loc}
					set {p2.y.blueportal} to rounded down the y coord of block 2 right {blueportal.p2.loc}
					set {p2.z.blueportal} to rounded down the z coord of block 2 right {blueportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.blueportal}% %{p2.y.blueportal}% %{p2.z.blueportal}% 0 90"
					push loop-player forwards at speed 0.2
					stop

				if {blueportal.direction.p2} is west:

					set {p2.x.blueportal} to rounded down the x coord of block 2 left {blueportal.p2.loc}
					set {p2.y.blueportal} to rounded down the y coord of block 2 left {blueportal.p2.loc}
					set {p2.z.blueportal} to rounded down the z coord of block 2 left {blueportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.blueportal}% %{p2.y.blueportal}% %{p2.z.blueportal}% 0 -90"
					push loop-player forwards at speed 0.2
					stop

				if {blueportal.direction.p2} is south:

					set {p2.x.blueportal} to rounded down the x coord of block 2 behind {blueportal.p2.loc}
					set {p2.y.blueportal} to rounded down the y coord of block 2 behind {blueportal.p2.loc}
					set {p2.z.blueportal} to rounded down the z coord of block 2 behind {blueportal.p2.loc}
					wait a tick
					execute console command "/tploc %loop-player% %{p2.x.blueportal}% %{p2.y.blueportal}% %{p2.z.blueportal}% 0 180"
					push loop-player forwards at speed 0.2
					stop
variables:
    {sellprice::s1} = 5
    {sellprice::s2} = 10
    {sellprice::s3} = 3
    {sellprice::s4} = 2
    {sellprice::s5} = 20
command /sell:
    permission: sellgui
    executable by: players
    trigger:
        set {_y} to a random integer between 1 and 60
        set {_l} to player's location
        set {_l}'s y-coordinate to {_y}
        set {_ol} to "%block at {_l}%"
        broadcast "%{_ol}%"
        set block at {_l} to a chest
        add "{CustomName:""&6Put items in to sell! %player%""}" to nbt of block at {_l}
        open the block at {_l}'s inventory for the player
        while inventory name of player's current inventory is "&6Put items in to sell! %player%":
            wait 1 tick
        set {_money} to 0
        loop all items in inventory of block at {_l}:
            if {sellprice::s%id of loop-item%} is set:
                set {_i::*} to split "%loop-item%" at " "
                if {_i::1} parsed as integer is set:
                    add ({sellprice::s%id of loop-item%} * ({_i::1} parsed as integer) ) to {_money}
                    set {_n} to "%type of loop-item%"
                    replace all " " in {_n} with "_"
                    add ( {_i::1} parsed as integer ) to {_fitems::%{_n}%} 
                else:
                    add {sellprice::s%id of loop-item%} to {_money}
                    set {_n} to "%type of loop-item%"
                    replace all " " in {_n} with "_"
                    add 1 to {_fitems::%{_n}%}
            else:
                message "&a%loop-item% &ccannot be sold!"
                if player can hold loop-item:
                    give loop-item to player
                else:
                    drop loop-item at location of player
                    message "&cDropped&a %loop-item%&c at your location because your inventory can not hold it!"
        message "&6            Items:"
        message ""
        loop {_fitems::*}:
            set {_name} to "%loop-index%"
            replace all "_" in {_name} with " "
            message "&e- &a%loop-value% &eof &6%{_name}%"
        message ""
        message "&eYou have made&a $%{_money}%"
        add {_money} to player's account
        wait 1 tick
        clear inventory of block at {_l}
        evaluate "set block at {_l} to %{_ol}%"
command /t <integer>:
	trigger:
		if arg-1 is 1:
			broadcast "%180 in radian%"
		else if arg-1 is 2:
			broadcast "%3.14 in degree%"
		else if arg-1 is 3:
			set {_locs::*} to midpoint of location 10 in front of player and player
		else if arg-1 is 4:
			set {_locs::*} to linear coord 0.5 from location 10 in front of player to player
		else if arg-1 is 5:
			set {_locs::*} to line from location 10 in front of player to location at player with density 1
		else if arg-1 is 6:
			set {_locs::*} to cube at location 10 in front of player with radius 4
		else if arg-1 is 7:
			set {_locs::*} to polygon at location 10 in front of player with 7 vertices and radius 4
		else if arg-1 is 8:
			set {_locs::*} to polygon at location 10 in front of player with 7 vertices and radius 4
			set {_locs::*} to {_locs::*} linked with density 1
		else if arg-1 is 9:
			set {_locs::*} to polygon outline at location 10 in front of player with 7 vertices and radius 4 and density 1
		else if arg-1 is 10:
			set {_locs::*} to cube at location 10 in front of player with radius 4
		else if arg-1 is 11:
			set {_locs::*} to cube outline at location 10 in front of player with radius 4 and density 1
		else if arg-1 is 12:
			set {_locs::*} to circle at location 10 in front of player with radius 4 and density 1
		else if arg-1 is 13:
			set {_locs::*} to sphere at location 10 in front of player with radius 4 and density 1
		else if arg-1 is 14:
			set {_locs::*} to random sphere at location 10 in front of player with radius 4 and density 1
		else if arg-1 is 15:
			set {_locs::*} to cube outline at location 10 in front of player with radius 4 and density 1.5
			set {_locs::*} to {_locs::*} rotated around location 10 in front of player in direction 1, 1, 1 with angle 2
		else if arg-1 is 16:
			set {_locs::*} to cube outline at location 10 in front of player with radius 4 and density 1.5
			set {_locs::*} to {_locs::*} rotated around x-axis at location 10 in front of player with angle 2
		else if arg-1 is 17:
			set {_locs::*} to cube outline at location 10 in front of player with radius 4 and density 1.5
			set {_locs::*} to {_locs::*} rotated around y-axis at location 10 in front of player with angle 2
		else if arg-1 is 18:
			set {_locs::*} to cube outline at location 10 in front of player with radius 4 and density 1.5
			set {_locs::*} to {_locs::*} rotated around z-axis at location 10 in front of player with angle 2
		else if arg-1 is 19:
			set {_locs::*} to helix at location 10 in front of player with radius 4, height 10, step height 1 and density 1
		else if arg-1 is 20:
			set {_locs::*} to cube outline at location 10 in front of player with radius 4 and density 1
			add {_locs::*} scaled with center location 10 in front of player by 2 to {_locs::*}
		else if arg-1 is 21:
			set {_locs::*} to cube outline at location 10 in front of player with radius 4 and density 1
			add {_locs::*} scaled with center location 10 in front of player by 2 and direction 2, 1, 1 to {_locs::*}
		else if arg-1 is 22:
			set {_locs::*} to cube outline at location 10 in front of player with radius 4 and density 1
			add move {_locs::*} with center location 10 in front of player to location 10 in front and 10 right of player to {_locs::*}
		if {_locs::*} is set:
			umbaska spawn 1 of particle flame:0 offset by 0, 0, 0 at {_locs::*} for player